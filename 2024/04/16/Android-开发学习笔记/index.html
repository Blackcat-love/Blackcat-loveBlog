<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="环境搭建本文档使用集成开发环境IDEA学习 官方下载：https:&#x2F;&#x2F;developer.android.com&#x2F;?hl&#x3D;zh-cn 创建项目1.点击新建项目（new project）选择需要的模板工程文件 2.下一步后更改工程文件相关说明 Name（名字） Package name （包名） Save location （保存位置） Langeuage （项目语言） 本项目使用的是JAVA语言">
<meta property="og:type" content="article">
<meta property="og:title" content="Android 开发学习笔记">
<meta property="og:url" content="https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="NANA">
<meta property="og:description" content="环境搭建本文档使用集成开发环境IDEA学习 官方下载：https:&#x2F;&#x2F;developer.android.com&#x2F;?hl&#x3D;zh-cn 创建项目1.点击新建项目（new project）选择需要的模板工程文件 2.下一步后更改工程文件相关说明 Name（名字） Package name （包名） Save location （保存位置） Langeuage （项目语言） 本项目使用的是JAVA语言">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2024-04-16T04:04:01.000Z">
<meta property="article:modified_time" content="2024-05-11T14:29:34.936Z">
<meta property="article:author" content="nana">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/Blackcat-loveBlog/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/Blackcat-loveBlog/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/Blackcat-loveBlog/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Android 开发学习笔记</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/Blackcat-loveBlog/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 7.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="顶部" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/Blackcat-loveBlog/">首页</a></li><!--
     --><!--
       --><li><a href="/Blackcat-loveBlog/about/about">关于</a></li><!--
     --><!--
       --><li><a href="/Blackcat-loveBlog/archives/">归档</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/Blackcat-love">项目</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="上一篇" href="/Blackcat-loveBlog/2024/04/18/%E5%BF%83%E6%83%85%E6%97%A5%E8%AE%B0/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="下一篇" href="/Blackcat-loveBlog/2024/04/15/%E5%A4%9A%E5%A4%9A%E7%90%86%E8%B4%A2/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="返回顶部" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="分享文章" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/&text=Android 开发学习笔记"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/&title=Android 开发学习笔记"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/&is_video=false&description=Android 开发学习笔记"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Android 开发学习笔记&body=Check out this article: https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/&title=Android 开发学习笔记"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/&title=Android 开发学习笔记"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/&title=Android 开发学习笔记"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/&title=Android 开发学习笔记"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/&name=Android 开发学习笔记&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/&t=Android 开发学习笔记"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-number">1.</span> <span class="toc-text">环境搭建</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-number">2.</span> <span class="toc-text">创建项目</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AD%89%E5%BE%85%E4%B8%8B%E8%BD%BD"><span class="toc-number">2.1.</span> <span class="toc-text">等待下载</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-%E4%BF%AE%E6%94%B9Gradle%E6%9D%A5%E6%BA%90"><span class="toc-number">2.1.0.1.</span> <span class="toc-text">① 修改Gradle来源</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-%E6%89%8B%E5%8A%A8%E4%B8%8B%E8%BD%BDGradle"><span class="toc-number">2.1.0.2.</span> <span class="toc-text">② 手动下载Gradle</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-%E4%BD%BF%E7%94%A8%E6%9C%AC%E5%9C%B0Gradle"><span class="toc-number">2.1.0.3.</span> <span class="toc-text">③ 使用本地Gradle</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%EF%BC%9AGradle%E4%BE%9D%E8%B5%96%E9%95%9C%E5%83%8F%E6%BA%90"><span class="toc-number">2.1.1.</span> <span class="toc-text">其他：Gradle依赖镜像源</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-number">2.2.</span> <span class="toc-text">项目结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#APP"><span class="toc-number">2.2.1.</span> <span class="toc-text">APP</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E5%89%8D%E5%87%86%E5%A4%87"><span class="toc-number">3.</span> <span class="toc-text">开发前准备</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E8%AE%BE%E5%A4%87"><span class="toc-number">3.1.</span> <span class="toc-text">创建虚拟设备</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8ADB%E8%BF%9E%E6%8E%A5%E6%89%8B%E6%9C%BA"><span class="toc-number">3.1.1.</span> <span class="toc-text">1.使用ADB连接手机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%99%9A%E6%8B%9F%E8%AE%BE%E5%A4%87"><span class="toc-number">3.1.2.</span> <span class="toc-text">2.创建一个虚拟设备</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E8%99%9A%E6%8B%9F%E8%AE%BE%E5%A4%87"><span class="toc-number">3.2.</span> <span class="toc-text">启动虚拟设备</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%80%E5%8F%91"><span class="toc-number">4.</span> <span class="toc-text">开发</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#TextView"><span class="toc-number">4.1.</span> <span class="toc-text">TextView</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7"><span class="toc-number">4.1.1.</span> <span class="toc-text">属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B4%E5%BD%B1"><span class="toc-number">4.1.2.</span> <span class="toc-text">阴影</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%91%E9%A9%AC%E7%81%AF"><span class="toc-number">4.1.3.</span> <span class="toc-text">跑马灯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Button"><span class="toc-number">4.2.</span> <span class="toc-text">Button</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%B1%9E%E6%80%A7"><span class="toc-number">4.2.1.</span> <span class="toc-text">基本属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8D%E7%BD%AE%E5%B1%9E%E6%80%A7"><span class="toc-number">4.2.2.</span> <span class="toc-text">位置属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%82%B9%E5%87%BB%E6%94%B9%E5%8F%98%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2"><span class="toc-number">4.2.3.</span> <span class="toc-text">点击改变背景颜色</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6"><span class="toc-number">4.2.4.</span> <span class="toc-text">点击事件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8%E5%8C%BF%E5%90%8D%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-number">4.2.4.1.</span> <span class="toc-text">1. 使用匿名内部类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%88%E9%80%82%E7%94%A8%E4%BA%8EJava-8%E5%8F%8A%E4%BB%A5%E4%B8%8A%EF%BC%89"><span class="toc-number">4.2.4.2.</span> <span class="toc-text">2. 使用Lambda表达式（适用于Java 8及以上）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%9C%A8-XML-%E4%B8%AD%E6%B7%BB%E5%8A%A0-onClick-%E5%B1%9E%E6%80%A7%EF%BC%88%E4%B8%8D%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%EF%BC%8C%E4%BB%85%E9%80%82%E7%94%A8%E4%BA%8E%E5%8D%95%E4%B8%80%E4%BA%8B%E4%BB%B6%EF%BC%89"><span class="toc-number">4.2.4.3.</span> <span class="toc-text">3. 在 XML 中添加 onClick 属性（不推荐使用，仅适用于单一事件）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%EF%BC%88onClick%EF%BC%89"><span class="toc-number">4.2.4.4.</span> <span class="toc-text">点击事件（onClick）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%95%BF%E6%8C%89%E4%BA%8B%E4%BB%B6%EF%BC%88onLongClick%EF%BC%89"><span class="toc-number">4.2.4.5.</span> <span class="toc-text">长按事件（onLongClick）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A6%E6%91%B8%E4%BA%8B%E4%BB%B6%EF%BC%88onTouch%EF%BC%89"><span class="toc-number">4.2.4.6.</span> <span class="toc-text">触摸事件（onTouch）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E4%B8%8B%E4%BA%8B%E4%BB%B6%EF%BC%88onPress%EF%BC%89"><span class="toc-number">4.2.4.7.</span> <span class="toc-text">按下事件（onPress）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8A%E6%94%BE%E4%BA%8B%E4%BB%B6%EF%BC%88onRelease%EF%BC%89"><span class="toc-number">4.2.4.8.</span> <span class="toc-text">释放事件（onRelease）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90"><span class="toc-number">4.2.4.9.</span> <span class="toc-text">例子:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EditText"><span class="toc-number">4.3.</span> <span class="toc-text">EditText</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-1"><span class="toc-number">4.3.1.</span> <span class="toc-text">属性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ImageView"><span class="toc-number">4.4.</span> <span class="toc-text">ImageView</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-2"><span class="toc-number">4.4.1.</span> <span class="toc-text">属性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ProgressBar"><span class="toc-number">4.5.</span> <span class="toc-text">ProgressBar</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notfication"><span class="toc-number">4.6.</span> <span class="toc-text">Notfication</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Toolbar"><span class="toc-number">4.7.</span> <span class="toc-text">Toolbar</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AlertDialog"><span class="toc-number">4.8.</span> <span class="toc-text">AlertDialog</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PopupWindow"><span class="toc-number">4.9.</span> <span class="toc-text">PopupWindow</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AlertDialog%E5%BC%B9%E7%AA%97"><span class="toc-number">4.10.</span> <span class="toc-text">AlertDialog弹窗</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E4%BB%96%E4%BA%BA%E7%9A%84%E9%A1%B9%E7%9B%AE"><span class="toc-number">4.11.</span> <span class="toc-text">使用他人的项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5%E4%BE%9D%E8%B5%96"><span class="toc-number">4.12.</span> <span class="toc-text">导入依赖</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC"><span class="toc-number">4.13.</span> <span class="toc-text">页面跳转</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#android-studio%E5%AE%9E%E7%8E%B0%E4%B8%A4%E4%B8%AA%E9%A1%B5%E9%9D%A2%E7%9A%84%E8%B7%B3%E8%BD%AC"><span class="toc-number">4.14.</span> <span class="toc-text">android studio实现两个页面的跳转</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SharedPreferences"><span class="toc-number">4.15.</span> <span class="toc-text">SharedPreferences</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-number">4.15.1.</span> <span class="toc-text">使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sqlite"><span class="toc-number">4.16.</span> <span class="toc-text">Sqlite</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%87%8D%E8%A6%81%E7%BB%84%E4%BB%B6"><span class="toc-number">5.</span> <span class="toc-text">重要组件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B"><span class="toc-number">6.</span> <span class="toc-text">案例</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%B1%8F%E5%B1%95%E7%A4%BA"><span class="toc-number">6.1.</span> <span class="toc-text">开屏展示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E8%AE%B0%E8%B4%A6"><span class="toc-number">6.2.</span> <span class="toc-text">基础记账</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BE%8E%E8%A7%82%E7%9A%84%E5%8A%A0%E8%BD%BD%E7%94%BB%E9%9D%A2"><span class="toc-number">6.3.</span> <span class="toc-text">美观的加载画面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%9A%84%E4%BF%9D%E5%AD%98%E5%92%8C%E8%BD%AC%E6%8D%A2"><span class="toc-number">6.4.</span> <span class="toc-text">数据的保存和转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93%E7%94%A8%E6%9D%A5%E5%AD%98%E5%82%A8"><span class="toc-number">6.5.</span> <span class="toc-text">创建一个数据库用来存储</span></a></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        Android 开发学习笔记
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">nana</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2024-04-16T04:04:01.000Z" class="dt-published" itemprop="datePublished">2024-04-16</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h1 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h1><p>本文档使用集成开发环境IDEA学习</p>
<p>官方下载：<a target="_blank" rel="noopener" href="https://developer.android.com/?hl=zh-cn">https://developer.android.com/?hl=zh-cn</a></p>
<h1 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h1><p>1.点击新建项目（new project）选择需要的模板工程文件</p>
<p>2.下一步后更改工程文件相关说明</p>
<p>Name（名字）</p>
<p>Package name （包名）</p>
<p>Save location （保存位置）</p>
<p>Langeuage （项目语言） 本项目使用的是JAVA语言</p>
<p>Minimum SDK (最低支持系统) tip:意味着你当前的开发最低支持你选择的系统版本，比如Android 7，这样低于这个系统版本的手机将无法使用此APK</p>
<p>Build configuration language （构建配置语言） tip:推荐默认</p>
<h2 id="等待下载"><a href="#等待下载" class="headerlink" title="等待下载"></a>等待下载</h2><p>创建完成项目后，需要等待相关文件的下载比如gradle（构建工具）的下载，如果遇到下载慢的情况可以通过修改gradle来源来解决</p>
<h4 id="①-修改Gradle来源"><a href="#①-修改Gradle来源" class="headerlink" title="① 修改Gradle来源"></a><strong>① 修改Gradle来源</strong></h4><p>在项目的<code>gradle/wrapper/gradle-wrapper.properties</code>这个文件中可以看到配置：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">distributionBase=GRADLE_USER_HOME</span><br><span class="line">distributionPath=wrapper/dists</span><br><span class="line">zipStoreBase=GRADLE_USER_HOME</span><br><span class="line">zipStorePath=wrapper/dists</span><br><span class="line">distributionUrl=http\://services.gradle.org/distributions/gradle-6.5-all.zip</span><br></pre></td></tr></tbody></table></figure>

<p>其中<code>distributionUrl</code>指定了Gradle发行版的地址，而这个<code>http://services.gradle.org/distributions/gradle-6.5-all.zip</code>访问起来是很慢的；</p>
<p>所以我们修改这个配置即可；</p>
<p>可以将其修改为国内的一个源，如：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">distributionUrl=https\://code.aliyun.com/kar/gradle-all-zip/raw/master/gradle-6.5-all.zip</span><br></pre></td></tr></tbody></table></figure>

<p>在这里提供了Gradle 6.x的阿里云地址：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.kagura.me/dev/20200828131600.html">国内借助阿里云CDN快速下载Gradle 6.x zip安装包</a></li>
</ul>
<p>但其实在2019年3月，<strong>Gradle开启了在中国地区的CDN，下载Gradle的distribution已经不需要翻墙！</strong></p>
<p>修改gradle文件夹下面的gradle-wrapper.properties中的<code>http://services.gradle.org</code>为：</p>
<p><strong><code>http://downloads.gradle-dn.com</code></strong></p>
<p>即可！</p>
<blockquote>
<p><strong>但是经过我实测，<code>http://downloads.gradle-dn.com</code>的下载速度还是不太行……，所以还是推荐使用阿里云的CDN的方法！</strong></p>
</blockquote>
<h4 id="②-手动下载Gradle"><a href="#②-手动下载Gradle" class="headerlink" title="② 手动下载Gradle"></a><strong>② 手动下载Gradle</strong></h4><p>在项目的<code>gradle/wrapper/gradle-wrapper.properties</code>这个文件中可以看到配置：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">distributionBase=GRADLE_USER_HOME</span><br><span class="line">distributionPath=wrapper/dists</span><br><span class="line">zipStoreBase=GRADLE_USER_HOME</span><br><span class="line">zipStorePath=wrapper/dists</span><br><span class="line">distributionUrl=http\://services.gradle.org/distributions/gradle-6.5-all.zip</span><br></pre></td></tr></tbody></table></figure>

<p>然后找到 gradle-6.5-all.zip 这就是你要下载的版本，去网上手动下载一个；</p>
<p>然后找到 <code>$User/.gradle/wrapper/dists</code>中创建一个对应版本的文件夹以及下面的一个SHA256签名的目录，直接将zip拷贝进去（无需解压缩）；</p>
<p>关闭项目，重新打开即可；</p>
<blockquote>
<p>强烈不推荐手动下载Gradle；</p>
<p><strong>你甚至都可以将上述配置中的<code>distributionUrl</code>修改为网上的一个地址，重新打开项目，这时项目会自动从这个地址下载Gradle，而避免手动下载、复制压缩包；</strong></p>
</blockquote>
<h4 id="③-使用本地Gradle"><a href="#③-使用本地Gradle" class="headerlink" title="③ 使用本地Gradle"></a><strong>③ 使用本地Gradle</strong></h4><p>如果本地存在了Gradle，可以使用本地的Gradle；</p>
<p>在<code>Android Studio</code>设置，找到<code>Gradle</code>，指定本地Gradle位置；</p>
<blockquote>
<p><strong>但是这样就无法实现Gradle Wrapper支持多版本构建的优势了！</strong></p>
</blockquote>
<h3 id="其他：Gradle依赖镜像源"><a href="#其他：Gradle依赖镜像源" class="headerlink" title="其他：Gradle依赖镜像源"></a><strong>其他：Gradle依赖镜像源</strong></h3><p>Gradle下载依赖较慢的问题，基本上都已经被讲烂了，解决方法就是：换镜像源！</p>
<p>把maven库地址改成阿里云的地址，找到根目录下的<code>build.gradle</code>，进行如下修改：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">buildscript {</span><br><span class="line">    repositories {</span><br><span class="line">+       maven{url 'http://maven.aliyun.com/nexus/content/groups/public/'}</span><br><span class="line">+       maven{url "https://jitpack.io" }</span><br><span class="line">        google()</span><br><span class="line">-       // jcenter()</span><br><span class="line">-       // mavenCentral()</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">allprojects {</span><br><span class="line">    repositories {</span><br><span class="line">+       maven{url 'http://maven.aliyun.com/nexus/content/groups/public/'}</span><br><span class="line">        google()</span><br><span class="line">-       // jcenter()</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h2><p>了解项目结构可以让我们更容易学习</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">MyApplication</span><br><span class="line">.gradle: Gradle编译系统，版本由wrapper指定(无须手动修改)</span><br><span class="line">.idea: IDE所需要的文件(无须手动修改)</span><br><span class="line">app: 开发项目的所有代码和资源文件</span><br><span class="line">  build: app模块编译输出的文件</span><br><span class="line">  libs: 放置引用的类库文件</span><br><span class="line">  src: 放置应用的主要文件目录</span><br><span class="line">    AndroidTest: 单元测试目录</span><br><span class="line">    main: 主要的项目目录和代码</span><br><span class="line">      java: 项目的源代码</span><br><span class="line">      res: 项目的资源</span><br><span class="line">        drawable: 存放各种位图文件(.png，.jpg，.9png，.gif等)和drawable类型的XML文件</span><br><span class="line">        drawable-v24: 存放自定义Drawables类(Android API 24开始，可在XML中使用)</span><br><span class="line">        layout: 存放布局文件</span><br><span class="line">        menu: 存放菜单文件</span><br><span class="line">        mipmap-hdpi: 存放高分辨率图片资源</span><br><span class="line">        mipmap-mdpi: 存放中等分辨率图片资源</span><br><span class="line">        mipmap-xdpi: 存放超高分辨率图片资源</span><br><span class="line">        mipmap-xxdpi: 存放超超高分辨率图片资源</span><br><span class="line">        mipmap-xxxdpi: 存放超超超高分辨率图片资源</span><br><span class="line">        raw: 存放各种原生资源(音频，视频，一些XML文件等)</span><br><span class="line">        values: 存放各种配置资源（颜色，尺寸，样式，字符串等）</span><br><span class="line">        xml</span><br><span class="line">      AndroidManifest.xml: 项目的清单文件（名称、版本、SDK、权限等配置信息）</span><br><span class="line">    test</span><br><span class="line">    .gitignore: 忽略的文件或者目录</span><br><span class="line">    app.iml: app模块的配置文件</span><br><span class="line">    build.gradle: app模块的gradle编译文件</span><br><span class="line">    proguard-rules.pro: app模块的代码混淆配置文件</span><br><span class="line">  gradle: wrapper的jar和配置文件所在的位置 </span><br><span class="line">  .gitattributes: 用于设置文件的对比方式</span><br><span class="line">  .gitignore: 忽略的文件或者目录</span><br><span class="line">  build.gradle: 项目的gradle编译文件</span><br><span class="line">  gradle.properties: gradle相关的全局属性设置 没有会下载，有会自动配置</span><br><span class="line">  gradlew: 编译脚本，可以在命令行执行打包</span><br><span class="line">  gradlew.bat: windows下的gradle wrapper可执行文件</span><br><span class="line">  MyApplication.iml: 保存该模块的相关信息</span><br><span class="line">  README.md: 文本编辑器，记录一些相关信息</span><br><span class="line">  local.properties: 配置SDK/NDK所在的路径</span><br><span class="line">  setting.gradle: 设置相关的gradle脚本</span><br><span class="line">  External Libraries: 项目依赖的库，编译时自动下载</span><br></pre></td></tr></tbody></table></figure>

<h3 id="APP"><a href="#APP" class="headerlink" title="APP"></a>APP</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">manifests</span><br><span class="line">AndroidManifest.xml: 项目的清单文件（名称、版本、SDK、权限等配置信息）</span><br><span class="line">java: 项目的源代码</span><br><span class="line">src: 放置应用的主要文件目录(子目录可参考Project的介绍)</span><br><span class="line">Gradle Scripts： gradle编译相关的脚本(具体文件的说明可参考Project的介绍)</span><br></pre></td></tr></tbody></table></figure>

<h1 id="开发前准备"><a href="#开发前准备" class="headerlink" title="开发前准备"></a>开发前准备</h1><p>在正式开发前，我们需要先配置好虚拟设备，方便我们开发时调试，IDEA提供两种调试方法。</p>
<h2 id="创建虚拟设备"><a href="#创建虚拟设备" class="headerlink" title="创建虚拟设备"></a>创建虚拟设备</h2><p>IDEA提供两种方式，分别是物理连接和虚拟连接，推荐使用第二种方法，更加方便。</p>
<h3 id="1-使用ADB连接手机"><a href="#1-使用ADB连接手机" class="headerlink" title="1.使用ADB连接手机"></a>1.使用ADB连接手机</h3><p>需要准备一台手机，打开手机的安卓调试ADB，然后连接电脑。</p>
<h3 id="2-创建一个虚拟设备"><a href="#2-创建一个虚拟设备" class="headerlink" title="2.创建一个虚拟设备"></a>2.创建一个虚拟设备</h3><p>创建一个虚拟设备，通过打开右侧菜单栏的 Device Manager （设备管理），点击加号创建一个新的虚拟设备。</p>
<p>点击后进入创建页面，左栏是提供的个各种不同的设备选择，这里选择手机（Phone）。</p>
<p>然后在右侧可以看到不同尺寸和分辨率的手机，选择合适的就可以。</p>
<p>下一步后，就是选择不同的手机系统了，官方提供了多种安卓版本，选择自己需要的就好，在Target一栏中可以看到不同的安卓版本。</p>
<p>点击Release Name一栏对应的系统名称旁边的下载按钮，同意协议后，开始自动下载系统SDK到你的项目路径中，下载完成后，继续点击下一步直到完成安装即可，就此已经成功创建好了对应的虚拟设备。</p>
<h2 id="启动虚拟设备"><a href="#启动虚拟设备" class="headerlink" title="启动虚拟设备"></a>启动虚拟设备</h2><p>运行虚拟设备需要找到右栏中的 Device Manager （设备管理）,看到你创建的设备后，点击运行即可。</p>
<p>运行后可以在 Running Devices （运行中设备） 里看到。</p>
<h1 id="开发"><a href="#开发" class="headerlink" title="开发"></a>开发</h1><h2 id="TextView"><a href="#TextView" class="headerlink" title="TextView"></a>TextView</h2><p>使用TextView可以在容器中创建一个文本，通过设置不同的属性改变文本的样式，包括颜色，尺寸，排版等等。</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/main"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">".MainActivity"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/tv_one"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"hello world"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">"@color/black"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textStyle</span>=<span class="string">"italic"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"#FFFF0000"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TextView</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>在上述代码中，有一些属性的值是@开头，这是使用了规定好的样式，在正式开发中，不会将属性值直接写在代码中，而是在values文件夹里定义好不同的String，在组件里引用即可。</p>
<p>比如</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">android:id="@+id/tv_one"</span><br></pre></td></tr></tbody></table></figure>

<p>实际上是为了让MainActivity.java里的findViewById方法使用</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">setContentView(R.layout.activity_main);</span><br><span class="line"><span class="type">TextView</span> <span class="variable">tv_one</span> <span class="operator">=</span> findViewById(R.id.tv_one);</span><br><span class="line">tv_one.setText(<span class="string">"Hello Lain"</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>通过ID寻找到组件后，使用Set方法改变组件的其他属性值，这里将TextView的Text修改为Hello Lain，有趣的是，我已经在xml的组件里也定义了Text的属性值为 Hello World</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">android:text="hello world"</span><br></pre></td></tr></tbody></table></figure>

<p>这种情况会优先Java代码，所以Hello World被修改为Hello Lain。</p>
<p>另一个情况是使用已经定义好的属性值，比如</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">android:textColor="@color/black"</span><br></pre></td></tr></tbody></table></figure>

<p>实际上这个值被存储在app\src\main\res\values\colors.xml里，如下</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"black"</span>&gt;</span>#FF000000<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"white"</span>&gt;</span>#FFFFFFFF<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>在这个目录下，还有其他的xml文件，对应着不同的使用场景，默认有三个分别是，colors.xml负责定义好的颜色样式，strings.xml负责项目中的所有显示文字，themes.xml负责主题。</p>
<p>比如我希望TextView的Text属性值为Hello Lain，我可以直接在strings.xml里添加一个值，这样每次使用相同的值，我直接调用这里的名字即可。</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">"app_name"</span>&gt;</span>financing<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">"lain"</span>&gt;</span>Hello Lain<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>调用时</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">android:text="@string/lain"</span><br></pre></td></tr></tbody></table></figure>

<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性 (Attribute)</th>
<th>描述 (Description)</th>
</tr>
</thead>
<tbody><tr>
<td>text</td>
<td>设置文本内容 (Sets the text content)</td>
</tr>
<tr>
<td>textColor</td>
<td>设置文本颜色 (Sets the text color)</td>
</tr>
<tr>
<td>textSize</td>
<td>设置文本大小 (Sets the text size)</td>
</tr>
<tr>
<td>textStyle</td>
<td>设置文本样式，如粗体、斜体 (Sets text style such as bold, italic)</td>
</tr>
<tr>
<td>gravity</td>
<td>设置文本的对齐方式 (Sets the text alignment)</td>
</tr>
<tr>
<td>fontFamily</td>
<td>设置文本字体 (Sets the text font family)</td>
</tr>
<tr>
<td>padding</td>
<td>设置文本的内边距 (Sets the text padding)</td>
</tr>
<tr>
<td>background</td>
<td>设置文本的背景 (Sets the text background)</td>
</tr>
<tr>
<td>maxLines</td>
<td>设置最大行数 (Sets the maximum number of lines)</td>
</tr>
<tr>
<td>singleLine</td>
<td>设置是否单行显示 (Sets whether to display in a single line)</td>
</tr>
<tr>
<td>ellipsize</td>
<td>设置超出范围时的省略方式 (Sets the ellipsis mode for overflow)</td>
</tr>
</tbody></table>
<h3 id="阴影"><a href="#阴影" class="headerlink" title="阴影"></a>阴影</h3><table>
<thead>
<tr>
<th>属性 (Attribute)</th>
<th>描述 (Description)</th>
</tr>
</thead>
<tbody><tr>
<td>shadowColor</td>
<td>设置阴影的颜色 (Sets the color of the shadow)</td>
</tr>
<tr>
<td>shadowDx</td>
<td>设置阴影在水平方向的偏移量 (Sets the horizontal offset of the shadow)</td>
</tr>
<tr>
<td>shadowDy</td>
<td>设置阴影在垂直方向的偏移量 (Sets the vertical offset of the shadow)</td>
</tr>
<tr>
<td>shadowRadius</td>
<td>设置阴影的半径 (Sets the radius of the shadow)</td>
</tr>
</tbody></table>
<h3 id="跑马灯"><a href="#跑马灯" class="headerlink" title="跑马灯"></a>跑马灯</h3><p>想要实现跑马灯需要设置5个属性分别为:</p>
<p>android:singleLine:内容单行显示</p>
<p>android:focusable:是否可以获取焦点</p>
<p>android:focusablelnTouchMode:用于控制视图在触摸模式下是否可以聚焦</p>
<p>android:ellipsize:在哪里省略文本</p>
<p>android:marqueeRepeatLimit:字幕动画重复的次数</p>
<p>首先修改文字内容，让其无法一行显示完全:</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">"app_name"</span>&gt;</span>financing<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">"lain"</span>&gt;</span>Hello Lain,Hello Lain,Hello Lain,Hello Lain,Hello Lain,Hello Lain,Hello Lain,Hello Lain,Hello Lain<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>通过添加这五个属性实现文字跑马灯效果</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">android:singleLine="true"</span><br><span class="line">android:focusable="true"</span><br><span class="line">android:focusableInTouchMode="true"</span><br><span class="line">android:ellipsize="marquee"</span><br><span class="line">android:marqueeRepeatLimit="marquee_forever"</span><br><span class="line">android:clickable="true"</span><br></pre></td></tr></tbody></table></figure>

<p>除了上述五个属性外，还需要添加一个获取点击焦点的属性，这样当点击后返回为true,开始循环跑马灯。</p>
<p>这样实现的跑马灯效果必须点击后才能使用，这样并不够高效，所以接下来通过自定义一个组件来实现无需点击自动获取焦点的功能。</p>
<p>通过在com.example里创建一个类，并且继承原组件，此时需要添加构造函数后才能正常使用，最后在重写判断焦点的方法返回为true，这样不论点击，都会循环重复。</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//当前类:com.example.TextViewLain</span></span><br><span class="line"><span class="keyword">package</span> com.example.financing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.util.AttributeSet;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> androidx.annotation.Nullable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TextViewLain</span> <span class="keyword">extends</span> <span class="title class_">TextView</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TextViewLain</span><span class="params">(Context context)</span> {</span><br><span class="line">        <span class="built_in">super</span>(context);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TextViewLain</span><span class="params">(Context context, <span class="meta">@Nullable</span> AttributeSet attrs)</span> {</span><br><span class="line">        <span class="built_in">super</span>(context, attrs);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TextViewLain</span><span class="params">(Context context, <span class="meta">@Nullable</span> AttributeSet attrs, <span class="type">int</span> defStyleAttr)</span> {</span><br><span class="line">        <span class="built_in">super</span>(context, attrs, defStyleAttr);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="comment">//    重写</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isFocused</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.isFocused();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>这段代码是Java中的一个方法重写（override）。它重写了一个名为<code>isFocused()</code>的方法，该方法原本是从父类（superclass）继承而来的。在重写中，它调用了<code>super.isFocused()</code>，意味着它调用了父类中的<code>isFocused()</code>方法。这个方法的作用是判断当前对象是否具有焦点（focus）。</p>
<p>更改返回值:</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//    重写</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isFocused</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<p>由于我们重写了TextView，在xml中使用它也应该调用新的类，所以变成了这样:</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">com.example.financing.TextViewLain</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/tv_one"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:text</span>=<span class="string">"@string/lain"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:textColor</span>=<span class="string">"@color/black"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:textStyle</span>=<span class="string">"italic"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"#FFFF0000"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:singleLine</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:focusable</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:focusableInTouchMode</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:ellipsize</span>=<span class="string">"marquee"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:marqueeRepeatLimit</span>=<span class="string">"marquee_forever"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">com.example.financing.TextViewLain</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>再次运行，会发现自动实现了跑马灯效果。</p>
<h2 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h2><p>Button类继承于TextView</p>
<h3 id="基本属性"><a href="#基本属性" class="headerlink" title="基本属性"></a>基本属性</h3><table>
<thead>
<tr>
<th>属性 (Attribute)</th>
<th>描述 (Description)</th>
</tr>
</thead>
<tbody><tr>
<td><code>android:text</code></td>
<td>设置按钮显示的文本 (Sets the text displayed on the button)</td>
</tr>
<tr>
<td><code>android:id</code></td>
<td>按钮的唯一标识符 (Unique identifier for the button)</td>
</tr>
<tr>
<td><code>android:onClick</code></td>
<td>按钮点击时触发的方法 (Method to be invoked when the button is clicked)</td>
</tr>
<tr>
<td><code>android:background</code></td>
<td>设置按钮的背景 (Sets the background for the button) tip:因为更新的原因，使用这个属性需要将values\themes.xml里改为DarkActionBar.Bridge才可以使用</td>
</tr>
<tr>
<td><code>android:layout_width</code></td>
<td>设置按钮的宽度 (Sets the width of the button)</td>
</tr>
<tr>
<td><code>android:layout_height</code></td>
<td>设置按钮的高度 (Sets the height of the button)</td>
</tr>
<tr>
<td><code>android:enabled</code></td>
<td>设置按钮是否可用 (Sets whether the button is enabled)</td>
</tr>
<tr>
<td><code>android:visibility</code></td>
<td>设置按钮的可见性 (Sets the visibility of the button)</td>
</tr>
</tbody></table>
<h3 id="位置属性"><a href="#位置属性" class="headerlink" title="位置属性"></a>位置属性</h3><table>
<thead>
<tr>
<th><code>android:layout_gravity</code></th>
<th>按钮的布局位置。</th>
</tr>
</thead>
<tbody><tr>
<td><code>android:gravity</code></td>
<td>按钮内文本的对齐方式。</td>
</tr>
<tr>
<td><code>android:textSize</code></td>
<td>按钮文本的字体大小。</td>
</tr>
<tr>
<td><code>android:textColor</code></td>
<td>按钮文本的颜色。</td>
</tr>
<tr>
<td><code>android:padding</code></td>
<td>按钮内边距。</td>
</tr>
<tr>
<td><code>android:layout_margin</code></td>
<td>按钮外边距。</td>
</tr>
<tr>
<td><code>android:layout_alignParentLeft</code></td>
<td>按钮是否与父容器的左边对齐。</td>
</tr>
<tr>
<td><code>android:layout_alignParentRight</code></td>
<td>按钮是否与父容器的右边对齐。</td>
</tr>
<tr>
<td><code>android:layout_alignParentTop</code></td>
<td>按钮是否与父容器的顶部对齐。</td>
</tr>
<tr>
<td><code>android:layout_alignParentBottom</code></td>
<td>按钮是否与父容器的底部对齐。</td>
</tr>
<tr>
<td><code>android:layout_alignParentStart</code></td>
<td>按钮是否与父容器的开始位置对齐。</td>
</tr>
<tr>
<td><code>android:layout_alignParentEnd</code></td>
<td>按钮是否与父容器的结束位置对齐。</td>
</tr>
<tr>
<td><code>android:layout_centerHorizontal</code></td>
<td>按钮是否水平居中。</td>
</tr>
<tr>
<td><code>android:layout_centerVertical</code></td>
<td>按钮是否垂直居中。</td>
</tr>
<tr>
<td><code>android:layout_toLeftOf</code></td>
<td>按钮位于某个视图的左侧。</td>
</tr>
<tr>
<td><code>android:layout_toRightOf</code></td>
<td>按钮位于某个视图的右侧。</td>
</tr>
<tr>
<td><code>android:layout_above</code></td>
<td>按钮位于某个视图的上方。</td>
</tr>
<tr>
<td><code>android:layout_below</code></td>
<td>按钮位于某个视图的下方。</td>
</tr>
<tr>
<td><code>android:layout_alignLeft</code></td>
<td>按钮是否与另一个视图的左边对齐。</td>
</tr>
<tr>
<td><code>android:layout_alignRight</code></td>
<td>按钮是否与另一个视图的右边对齐。</td>
</tr>
<tr>
<td><code>android:layout_alignTop</code></td>
<td>按钮是否与另一个视图的顶部对齐。</td>
</tr>
<tr>
<td><code>android:layout_alignBottom</code></td>
<td>按钮是否与另一个视图的底部对齐。</td>
</tr>
</tbody></table>
<h3 id="点击改变背景颜色"><a href="#点击改变背景颜色" class="headerlink" title="点击改变背景颜色"></a>点击改变背景颜色</h3><p>如果要实现点击改变按钮背景颜色的效果，和html中使用判断是否点击的属性改变值不同，需要根据规则在res里编写具体规则，在xml中引用规则即可。</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"100dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"100dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:backgroundTint</span>=<span class="string">"@color/btn_color"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"hello"</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>创建color文件夹和具体xml，然后编写代码:</p>
<p>来自:res/color/btn_color.xml</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">selector</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:color</span>=<span class="string">"@color/black"</span> <span class="attr">android:state_pressed</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:color</span>=<span class="string">"#EFEFEF"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">selector</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>判断点击后为true，改变颜色为balck，否则默认情况为白色#EFEFEF</p>
<p>举一反三，其他情况也是使用同样的方法进行引用和判断。</p>
<h3 id="点击事件"><a href="#点击事件" class="headerlink" title="点击事件"></a>点击事件</h3><p>当你在Android Studio中创建一个按钮（Button）时，你通常会想要添加一个点击事件，以便在用户点击按钮时执行特定的操作。以下是几种常见的按钮点击事件及其使用方法：</p>
<h4 id="1-使用匿名内部类"><a href="#1-使用匿名内部类" class="headerlink" title="1. 使用匿名内部类"></a>1. 使用匿名内部类</h4><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">button.setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() {</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View v)</span> {</span><br><span class="line">        <span class="comment">// 在此处添加点击事件的操作</span></span><br><span class="line">    }</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

<h4 id="2-使用Lambda表达式（适用于Java-8及以上）"><a href="#2-使用Lambda表达式（适用于Java-8及以上）" class="headerlink" title="2. 使用Lambda表达式（适用于Java 8及以上）"></a>2. 使用Lambda表达式（适用于Java 8及以上）</h4><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">button.setOnClickListener(v -&gt; {</span><br><span class="line">    <span class="comment">// 在此处添加点击事件的操作</span></span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

<h4 id="3-在-XML-中添加-onClick-属性（不推荐使用，仅适用于单一事件）"><a href="#3-在-XML-中添加-onClick-属性（不推荐使用，仅适用于单一事件）" class="headerlink" title="3. 在 XML 中添加 onClick 属性（不推荐使用，仅适用于单一事件）"></a>3. 在 XML 中添加 onClick 属性（不推荐使用，仅适用于单一事件）</h4><p>在布局文件中添加 onClick 属性：</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/button"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:text</span>=<span class="string">"Click me!"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:onClick</span>=<span class="string">"onButtonClick"</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>然后在相应的活动（Activity）中添加一个公共方法：</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onButtonClick</span><span class="params">(View view)</span> {</span><br><span class="line">    <span class="comment">// 在此处添加点击事件的操作</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>这些是一些常见的按钮点击事件的使用方法。你可以根据自己的需要选择其中一种或多种来实现按钮的点击功能。</p>
<p>在 Android Studio 中，按钮可以响应多种点击事件以及触摸事件。以下是一些常见的按钮事件类型：</p>
<h4 id="点击事件（onClick）"><a href="#点击事件（onClick）" class="headerlink" title="点击事件（onClick）"></a>点击事件（onClick）</h4><p>点击事件是用户单击按钮时触发的事件。当用户点击按钮时，执行预定义的操作。</p>
<h4 id="长按事件（onLongClick）"><a href="#长按事件（onLongClick）" class="headerlink" title="长按事件（onLongClick）"></a>长按事件（onLongClick）</h4><p>长按事件是用户长时间按住按钮时触发的事件。通常用于触发需要长时间按住才执行的操作，例如弹出上下文菜单或启动拖放操作。</p>
<h4 id="触摸事件（onTouch）"><a href="#触摸事件（onTouch）" class="headerlink" title="触摸事件（onTouch）"></a>触摸事件（onTouch）</h4><p>触摸事件是用户触摸按钮（包括按下、移动和抬起）时触发的事件。可以根据手指在按钮上的动作执行不同的操作，例如实现自定义的手势识别或按钮效果。</p>
<h4 id="按下事件（onPress）"><a href="#按下事件（onPress）" class="headerlink" title="按下事件（onPress）"></a>按下事件（onPress）</h4><p>按下事件是用户按下按钮时触发的事件，通常在用户按下按钮但尚未释放时执行。与点击事件不同，按下事件不需要用户释放按钮即可触发。</p>
<h4 id="释放事件（onRelease）"><a href="#释放事件（onRelease）" class="headerlink" title="释放事件（onRelease）"></a>释放事件（onRelease）</h4><p>释放事件是用户释放按钮时触发的事件，与按下事件相对应。通常与按下事件结合使用，以执行需要在用户按下按钮后立即释放时执行的操作。</p>
<p>在我理解看来，如果官方自带的事件无法满足你的开发需求，可以自定义一个点击事件，用来实现更高客制化的需求。</p>
<h4 id="例子"><a href="#例子" class="headerlink" title="例子:"></a>例子:</h4><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//        通过ID获取按钮组件</span></span><br><span class="line">        <span class="type">Button</span> <span class="variable">btn</span> <span class="operator">=</span> findViewById(R.id.btn_text);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        点击事件</span></span><br><span class="line">        btn.setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View v)</span> {</span><br><span class="line">                <span class="comment">//通过日志输出点击后的测试文本</span></span><br><span class="line">                Log.e(TAG,<span class="string">"HELLO Click"</span>);</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line"><span class="comment">//        长按事件</span></span><br><span class="line">        btn.setOnLongClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnLongClickListener() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">onLongClick</span><span class="params">(View v)</span> {</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line"><span class="comment">//        触摸事件</span></span><br><span class="line">        btn.setOnTouchListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnTouchListener() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">onTouch</span><span class="params">(View v, MotionEvent event)</span> {</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            }</span><br><span class="line">        });</span><br></pre></td></tr></tbody></table></figure>

<h2 id="EditText"><a href="#EditText" class="headerlink" title="EditText"></a>EditText</h2><h3 id="属性-1"><a href="#属性-1" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>android:id</code></td>
<td>用于指定EditText的唯一标识符。</td>
</tr>
<tr>
<td><code>android:hint</code></td>
<td>当EditText为空时显示的提示文本。</td>
</tr>
<tr>
<td><code>android:text</code></td>
<td>设置EditText的文本内容。</td>
</tr>
<tr>
<td><code>android:inputType</code></td>
<td>指定EditText的输入类型，例如文本、数字、密码等。</td>
</tr>
<tr>
<td><code>android:maxLines</code></td>
<td>指定EditText的最大行数。</td>
</tr>
<tr>
<td><code>android:maxLength</code></td>
<td>指定EditText的最大字符数。</td>
</tr>
<tr>
<td><code>android:imeOptions</code></td>
<td>定义EditText的输入法选项。</td>
</tr>
<tr>
<td><code>android:singleLine</code></td>
<td>设置EditText是否为单行模式。</td>
</tr>
<tr>
<td><code>android:imeActionLabel</code></td>
<td>设置输入法操作的标签文本。</td>
</tr>
</tbody></table>
<p>使用EditText也十分简单，当点击按钮的时候，获取到当前Text组件的内容，然后转换为String类型做操作，这里就不演示了。</p>
<h2 id="ImageView"><a href="#ImageView" class="headerlink" title="ImageView"></a>ImageView</h2><h3 id="属性-2"><a href="#属性-2" class="headerlink" title="属性"></a>属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>android:src</code></td>
<td>设置ImageView显示的图像资源。</td>
</tr>
<tr>
<td><code>android:scaleType</code></td>
<td>设置图像的缩放类型。</td>
</tr>
<tr>
<td><code>android:tint</code></td>
<td>设置图像的着色。</td>
</tr>
<tr>
<td><code>android:adjustViewBounds</code></td>
<td>设置是否根据图像尺寸调整ImageView的边界。</td>
</tr>
<tr>
<td><code>android:maxWidth</code></td>
<td>设置ImageView的最大宽度。</td>
</tr>
<tr>
<td><code>android:maxHeight</code></td>
<td>设置ImageView的最大高度。</td>
</tr>
<tr>
<td><code>android:srcCompat</code></td>
<td>设置兼容的图像资源。</td>
</tr>
<tr>
<td><code>android:cropToPadding</code></td>
<td>设置是否裁剪ImageView的填充。</td>
</tr>
<tr>
<td><code>android:background</code></td>
<td>设置ImageView的背景图像。</td>
</tr>
<tr>
<td><code>android:foreground</code></td>
<td>设置ImageView的前景图像。</td>
</tr>
<tr>
<td><code>android:alpha</code></td>
<td>设置ImageView的透明度。</td>
</tr>
<tr>
<td><code>android:elevation</code></td>
<td>设置ImageView的高度。</td>
</tr>
<tr>
<td><code>android:visibility</code></td>
<td>设置ImageView的可见性。</td>
</tr>
<tr>
<td><code>android:rotation</code></td>
<td>设置ImageView的旋转角度。</td>
</tr>
<tr>
<td><code>android:rotationX</code></td>
<td>设置ImageView围绕X轴的旋转角度。</td>
</tr>
<tr>
<td><code>android:rotationY</code></td>
<td>设置ImageView围绕Y轴的旋转角度。</td>
</tr>
<tr>
<td><code>android:translationX</code></td>
<td>设置ImageView在X轴上的平移量。</td>
</tr>
<tr>
<td><code>android:translationY</code></td>
<td>设置ImageView在Y轴上的平移量。</td>
</tr>
<tr>
<td><code>android:scaleX</code></td>
<td>设置ImageView的X轴缩放比例。</td>
</tr>
<tr>
<td><code>android:scaleY</code></td>
<td>设置ImageView的Y轴缩放比例。</td>
</tr>
</tbody></table>
<p>使用ImageView组件，必须要设置的属性有宽高，然后就是src，这其中路径是@开头的，一开始我并不明白@的原理，但我发现@中的基本都在res里，所以我认为当@drawable/ceshi.jpg的时候，实际上就是res/drawable/ceshi.jpg</p>
<h2 id="ProgressBar"><a href="#ProgressBar" class="headerlink" title="ProgressBar"></a>ProgressBar</h2><p>  进度条可以用于加载数据时候展示的组件，它拥有多种样式和形态。</p>
<p>通常常用的两种分别是圆圈形状和条状，可以使用style去设定。</p>
<p>当你在使用 Android Studio 中的 ProgressBar 时，你可以设置多种属性来自定义其外观和行为。以下是一些常用的属性：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>android:progress</code></td>
<td>设置当前进度值。</td>
</tr>
<tr>
<td><code>android:max</code></td>
<td>设置进度的最大值。</td>
</tr>
<tr>
<td><code>android:indeterminate</code></td>
<td>设置是否显示为不确定进度。</td>
</tr>
<tr>
<td><code>android:progressDrawable</code></td>
<td>设置进度条的前景drawable。</td>
</tr>
<tr>
<td><code>android:indeterminateDrawable</code></td>
<td>设置不确定进度条的drawable。</td>
</tr>
<tr>
<td><code>android:progressTint</code></td>
<td>设置进度条颜色。</td>
</tr>
<tr>
<td><code>android:progressBackgroundTint</code></td>
<td>设置进度条背景颜色。</td>
</tr>
<tr>
<td><code>android:indeterminateTint</code></td>
<td>设置不确定进度条颜色。</td>
</tr>
<tr>
<td><code>android:indeterminateDuration</code></td>
<td>设置不确定进度条动画的持续时间。</td>
</tr>
<tr>
<td><code>android:visibility</code></td>
<td>设置进度条的可见性。</td>
</tr>
</tbody></table>
<p>下面是一个简单的示例，演示如何在 XML 中使用 ProgressBar：</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/progressBar"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_centerInParent</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:progress</span>=<span class="string">"50"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:max</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:indeterminate</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:progressTint</span>=<span class="string">"@color/colorAccent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:indeterminateTint</span>=<span class="string">"@color/colorPrimaryDark"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:visibility</span>=<span class="string">"visible"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>在这个示例中，进度条被设置为在屏幕中央显示，当前进度为 50%（<code>android:progress="50"</code>），最大进度为 100（<code>android:max="100"</code>），显示为确定进度（<code>android:indeterminate="false"</code>）。进度条的颜色通过 <code>android:progressTint</code> 和 <code>android:indeterminateTint</code> 属性设置。</p>
<p>你可以根据你的需求调整这些属性，以实现你想要的 ProgressBar 外观和行为。</p>
<p>如果需要更高的定制可以创建一个方法，每次点击按钮或者做其他事件的时候调用方法增加进度条的值。</p>
<h2 id="Notfication"><a href="#Notfication" class="headerlink" title="Notfication"></a>Notfication</h2><p>Android Studio 中的通知（Notification）是一种用户界面元素，用于向用户显示关于应用程序当前状态或事件的信息。通知可以显示在设备的状态栏中，并且可以展开以显示更多详细信息。通知通常用于向用户显示新消息、更新或其他重要事件。</p>
<p>以下是使用通知的基本步骤：</p>
<ol>
<li>创建 NotificationCompat.Builder 对象，并设置通知的标题、内容等属性。</li>
<li>通过设置 Intent 或 PendingIntent 来定义通知的点击行为。</li>
<li>将通知发送到通知管理器（NotificationManager）以显示通知。</li>
</ol>
<p>下面是一个简单的示例，演示如何在 Android Studio 中使用通知：</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> android.app.NotificationChannel;</span><br><span class="line"><span class="keyword">import</span> android.app.NotificationManager;</span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.os.Build;</span><br><span class="line"><span class="keyword">import</span> androidx.core.app.NotificationCompat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NotificationHelper</span> {</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">CHANNEL_ID</span> <span class="operator">=</span> <span class="string">"example_channel"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">CharSequence</span> <span class="variable">CHANNEL_NAME</span> <span class="operator">=</span> <span class="string">"Example Channel"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">CHANNEL_DESCRIPTION</span> <span class="operator">=</span> <span class="string">"This is an example notification channel"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">showNotification</span><span class="params">(Context context, String title, String content)</span> {</span><br><span class="line">        NotificationCompat.<span class="type">Builder</span> <span class="variable">builder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NotificationCompat</span>.Builder(context, CHANNEL_ID)</span><br><span class="line">                .setSmallIcon(R.drawable.ic_notification)</span><br><span class="line">                .setContentTitle(title)</span><br><span class="line">                .setContentText(content)</span><br><span class="line">                .setPriority(NotificationCompat.PRIORITY_DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Define the intent to open when notification is clicked</span></span><br><span class="line">        <span class="comment">// PendingIntent pendingIntent = ...</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Set the intent to the notification</span></span><br><span class="line">        <span class="comment">// builder.setContentIntent(pendingIntent);</span></span><br><span class="line"></span><br><span class="line">        <span class="type">NotificationManager</span> <span class="variable">notificationManager</span> <span class="operator">=</span> (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Create a notification channel for Android Oreo and higher</span></span><br><span class="line">        <span class="keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {</span><br><span class="line">            <span class="type">NotificationChannel</span> <span class="variable">channel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NotificationChannel</span>(CHANNEL_ID, CHANNEL_NAME, NotificationManager.IMPORTANCE_DEFAULT);</span><br><span class="line">            channel.setDescription(CHANNEL_DESCRIPTION);</span><br><span class="line">            notificationManager.createNotificationChannel(channel);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Display the notification</span></span><br><span class="line">        notificationManager.notify(<span class="comment">/*notification_id*/</span> <span class="number">1</span>, builder.build());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>在这个示例中，我们创建了一个名为 <code>showNotification</code> 的静态方法，该方法接受上下文、通知的标题和内容作为参数。然后，我们创建了一个 NotificationCompat.Builder 对象，并设置了通知的小图标、标题和内容。你可以根据需要设置其他属性，如点击通知时的操作。</p>
<p>最后，我们通过 NotificationManager 将通知显示出来，并在需要时创建了一个通知渠道（Notification Channel），这是为了兼容 Android Oreo 及更高版本。</p>
<p>要使用这个示例，你需要在调用 <code>showNotification</code> 方法之前创建一个 PendingIntent，并将其设置为通知的点击行为。</p>
<p>我自己写的通知，明明是照着教程写的，但是却没办法使用，报错</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">    <span class="keyword">private</span> NotificationManager manager;</span><br><span class="line">    <span class="keyword">private</span> Notification notification;</span><br><span class="line">        </span><br><span class="line">        manager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);</span><br><span class="line"><span class="comment">//        当前手机安卓系统版本大于8的时候</span></span><br><span class="line">        <span class="keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O){</span><br><span class="line">            <span class="type">NotificationChannel</span> <span class="variable">channel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NotificationChannel</span>(<span class="string">"leo"</span>, <span class="string">"报错"</span>,</span><br><span class="line">                    NotificationManager.IMPORTANCE_HIGH);</span><br><span class="line">            manager.createNotificationChannel(channel);</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            notification = <span class="keyword">new</span> <span class="title class_">NotificationCompat</span>.Builder(<span class="built_in">this</span>,<span class="string">"leo"</span>)</span><br><span class="line">                    .setContentTitle(<span class="string">"官方通知"</span>)</span><br><span class="line">                    .setContentText(<span class="string">"您的输入不合规"</span>)</span><br><span class="line">                    .setSmallIcon(R.drawable.ic_launcher_background)</span><br><span class="line">                    .build();</span><br><span class="line">        }</span><br></pre></td></tr></tbody></table></figure>

<p>使用这个通知</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">manager.notify(<span class="number">1</span>,notification);</span><br></pre></td></tr></tbody></table></figure>



<h2 id="Toolbar"><a href="#Toolbar" class="headerlink" title="Toolbar"></a>Toolbar</h2><p><strong>Android Studio 中的 Toolbar 是用来创建应用程序的顶部操作栏或工具栏的。</strong>它通常位于屏幕的顶部，并包含应用程序的主要操作按钮、导航按钮和其他重要控件。Toolbar 提供了一种简洁而强大的方式来组织应用程序的用户界面，使用户可以轻松地访问应用程序的各种功能。</p>
<p><strong>一些 Toolbar 的主要功能包括：</strong></p>
<ol>
<li><strong>导航按钮</strong>：通常位于 Toolbar 的左侧，用于返回上一个屏幕或打开导航菜单。</li>
<li><strong>应用程序标题</strong>：通常位于 Toolbar 的中心，显示当前屏幕的标题或应用程序的名称。</li>
<li><strong>操作按钮</strong>：位于 Toolbar 的右侧或左侧，用于执行与当前屏幕相关的操作，如搜索、分享、设置等。</li>
<li><strong>溢出菜单</strong>：当屏幕空间有限时，Toolbar 可以自动将一些操作按钮隐藏在溢出菜单中，用户可以通过点击溢出菜单按钮来访问这些隐藏的操作。</li>
</ol>
<p><strong>举例：</strong></p>
<p>假设我们正在开发一个新闻阅读应用程序。在这个应用程序中，Toolbar 可以具有以下功能：</p>
<ul>
<li><strong>导航按钮</strong>：返回按钮，允许用户从新闻详情页面返回到新闻列表页面。</li>
<li><strong>应用程序标题</strong>：显示当前正在阅读的新闻标题，让用户清楚地知道自己在浏览哪篇新闻。</li>
<li><strong>操作按钮</strong>：分享按钮，允许用户将当前正在阅读的新闻内容分享给其他人。</li>
<li><strong>溢出菜单</strong>：包含一些额外的操作，如设置、反馈、帮助等，以便用户可以轻松地访问这些功能。</li>
</ul>
<p>通过 Toolbar，用户可以方便地浏览新闻、返回上一个页面、分享新闻内容，并且可以访问一些额外的功能，提升了应用程序的易用性和功能性。</p>
<h2 id="AlertDialog"><a href="#AlertDialog" class="headerlink" title="AlertDialog"></a>AlertDialog</h2><h2 id="PopupWindow"><a href="#PopupWindow" class="headerlink" title="PopupWindow"></a>PopupWindow</h2><h2 id="AlertDialog弹窗"><a href="#AlertDialog弹窗" class="headerlink" title="AlertDialog弹窗"></a>AlertDialog弹窗</h2><p>创建弹窗</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//        创建弹窗</span></span><br><span class="line">        <span class="type">AlertDialog</span> <span class="variable">alertDialog1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AlertDialog</span>.Builder(<span class="built_in">this</span>)</span><br><span class="line">                .setTitle(<span class="string">"报错"</span>)<span class="comment">//标题</span></span><br><span class="line">                .setMessage(<span class="string">"输入内容非法"</span>)<span class="comment">//内容</span></span><br><span class="line">                .setIcon(R.mipmap.ic_launcher)<span class="comment">//图标</span></span><br><span class="line">                .create();</span><br></pre></td></tr></tbody></table></figure>

<p>调用</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">alertDialog1.show();</span><br></pre></td></tr></tbody></table></figure>

<p>要注意的是，创建弹窗注意作用域的问题，如果写在判断里，又可以this是获取不到的，会报红。</p>
<p>除此之外还能设置更多属性以实现不同功能，详细参考:<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_35698774/article/details/79779238">https://blog.csdn.net/qq_35698774/article/details/79779238</a></p>
<h2 id="使用他人的项目"><a href="#使用他人的项目" class="headerlink" title="使用他人的项目"></a>使用他人的项目</h2><p>在github上，有很多大佬开源了自己的项目，通过使用他们的项目，来快速部署自己项目中的其中一个功能，这里使用我这次项目中的Titanic for Android来作为教学。</p>
<p>使用他人项目的时候，请务必标注来源，这是对原作者的尊重，同时也是开源社区需要自觉遵守的制度。</p>
<p>本次使用开源项目Titanic for Android —— <a target="_blank" rel="noopener" href="https://github.com/romainpiel">romainpiel</a></p>
<p>这是一个美化字体的项目，通过观察README可以知道如何使用，首先我们需要将项目克隆到本地方便查看和复制。</p>
<p>通过使用git clone进行克隆，在code按钮中复制git地址然后进行克隆。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">git clone https://github.com/romainpiel/Titanic.git</span><br></pre></td></tr></tbody></table></figure>

<p>具体的git教程可以看我的另一个笔记。</p>
<p>克隆完成后，分析项目，找到关键的java代码，复制到自己的项目，然后按照README教程进行调用。</p>
<p>在这个项目中，library里是核心java代码，需要将Titanic.java和TitanicTextView.ava复制到自己的项目中，其中Titanic代码打开后是这样的：</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.romainpiel.titanic.library;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.animation.Animator;</span><br><span class="line"><span class="keyword">import</span> android.animation.AnimatorSet;</span><br><span class="line"><span class="keyword">import</span> android.animation.ObjectAnimator;</span><br><span class="line"><span class="keyword">import</span> android.animation.ValueAnimator;</span><br><span class="line"><span class="keyword">import</span> android.os.Build;</span><br><span class="line"><span class="keyword">import</span> android.view.animation.LinearInterpolator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Titanic</span></span><br><span class="line"><span class="comment"> * User: romainpiel</span></span><br><span class="line"><span class="comment"> * Date: 14/03/2014</span></span><br><span class="line"><span class="comment"> * Time: 09:34</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Titanic</span> {</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> AnimatorSet animatorSet;</span><br><span class="line">    <span class="keyword">private</span> Animator.AnimatorListener animatorListener;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Animator.AnimatorListener <span class="title function_">getAnimatorListener</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> animatorListener;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAnimatorListener</span><span class="params">(Animator.AnimatorListener animatorListener)</span> {</span><br><span class="line">        <span class="built_in">this</span>.animatorListener = animatorListener;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(<span class="keyword">final</span> TitanicTextView textView)</span> {</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> <span class="type">Runnable</span> <span class="variable">animate</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Runnable</span>() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> {</span><br><span class="line"></span><br><span class="line">                textView.setSinking(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// horizontal animation. 200 = wave.png width</span></span><br><span class="line">                <span class="type">ObjectAnimator</span> <span class="variable">maskXAnimator</span> <span class="operator">=</span> ObjectAnimator.ofFloat(textView, <span class="string">"maskX"</span>, <span class="number">0</span>, <span class="number">200</span>);</span><br><span class="line">                maskXAnimator.setRepeatCount(ValueAnimator.INFINITE);</span><br><span class="line">                maskXAnimator.setDuration(<span class="number">1000</span>);</span><br><span class="line">                maskXAnimator.setStartDelay(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">                <span class="type">int</span> <span class="variable">h</span> <span class="operator">=</span> textView.getHeight();</span><br><span class="line"></span><br><span class="line">                <span class="comment">// vertical animation</span></span><br><span class="line">                <span class="comment">// maskY = 0 -&gt; wave vertically centered</span></span><br><span class="line">                <span class="comment">// repeat mode REVERSE to go back and forth</span></span><br><span class="line">                <span class="type">ObjectAnimator</span> <span class="variable">maskYAnimator</span> <span class="operator">=</span> ObjectAnimator.ofFloat(textView, <span class="string">"maskY"</span>, h/<span class="number">2</span>, - h/<span class="number">2</span>);</span><br><span class="line">                maskYAnimator.setRepeatCount(ValueAnimator.INFINITE);</span><br><span class="line">                maskYAnimator.setRepeatMode(ValueAnimator.REVERSE);</span><br><span class="line">                maskYAnimator.setDuration(<span class="number">10000</span>);</span><br><span class="line">                maskYAnimator.setStartDelay(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// now play both animations together</span></span><br><span class="line">                animatorSet = <span class="keyword">new</span> <span class="title class_">AnimatorSet</span>();</span><br><span class="line">                animatorSet.playTogether(maskXAnimator, maskYAnimator);</span><br><span class="line">                animatorSet.setInterpolator(<span class="keyword">new</span> <span class="title class_">LinearInterpolator</span>());</span><br><span class="line">                animatorSet.addListener(<span class="keyword">new</span> <span class="title class_">Animator</span>.AnimatorListener() {</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onAnimationStart</span><span class="params">(Animator animation)</span> {</span><br><span class="line">                    }</span><br><span class="line"></span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onAnimationEnd</span><span class="params">(Animator animation)</span> {</span><br><span class="line">                        textView.setSinking(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">if</span> (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.JELLY_BEAN) {</span><br><span class="line">                            textView.postInvalidate();</span><br><span class="line">                        } <span class="keyword">else</span> {</span><br><span class="line">                            textView.postInvalidateOnAnimation();</span><br><span class="line">                        }</span><br><span class="line"></span><br><span class="line">                        animatorSet = <span class="literal">null</span>;</span><br><span class="line">                    }</span><br><span class="line"></span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onAnimationCancel</span><span class="params">(Animator animation)</span> {</span><br><span class="line"></span><br><span class="line">                    }</span><br><span class="line"></span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onAnimationRepeat</span><span class="params">(Animator animation)</span> {</span><br><span class="line"></span><br><span class="line">                    }</span><br><span class="line">                });</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (animatorListener != <span class="literal">null</span>) {</span><br><span class="line">                    animatorSet.addListener(animatorListener);</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">                animatorSet.start();</span><br><span class="line">            }</span><br><span class="line">        };</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!textView.isSetUp()) {</span><br><span class="line">            textView.setAnimationSetupCallback(<span class="keyword">new</span> <span class="title class_">TitanicTextView</span>.AnimationSetupCallback() {</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSetupAnimation</span><span class="params">(<span class="keyword">final</span> TitanicTextView target)</span> {</span><br><span class="line">                    animate.run();</span><br><span class="line">                }</span><br><span class="line">            });</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            animate.run();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cancel</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">if</span> (animatorSet != <span class="literal">null</span>) {</span><br><span class="line">            animatorSet.cancel();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>通过观察代码，发现这个文件没有继承任何类，代表这是一个功能类，同时通过详细阅读代码，发现这是用来控制美化字体的动态效果，通过着色器让文字的遮罩按照波浪的样子往上移动。</p>
<p>然后是TitanicTextView.ava，不难发现TextView是Android的一个组件，打开代码后，发现果然如此：</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.romainpiel.titanic.library;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.content.res.ColorStateList;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Bitmap;</span><br><span class="line"><span class="keyword">import</span> android.graphics.BitmapShader;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Canvas;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Matrix;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Shader;</span><br><span class="line"><span class="keyword">import</span> android.graphics.drawable.Drawable;</span><br><span class="line"><span class="keyword">import</span> android.util.AttributeSet;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Titanic</span></span><br><span class="line"><span class="comment"> * romainpiel</span></span><br><span class="line"><span class="comment"> * 13/03/2014</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TitanicTextView</span> <span class="keyword">extends</span> <span class="title class_">TextView</span> {</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AnimationSetupCallback</span> {</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSetupAnimation</span><span class="params">(TitanicTextView titanicTextView)</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// callback fired at first onSizeChanged</span></span><br><span class="line">    <span class="keyword">private</span> AnimationSetupCallback animationSetupCallback;</span><br><span class="line">    <span class="comment">// wave shader coordinates</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">float</span> maskX, maskY;</span><br><span class="line">    <span class="comment">// if true, the shader will display the wave</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> sinking;</span><br><span class="line">    <span class="comment">// true after the first onSizeChanged</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> setUp;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// shader containing a repeated wave</span></span><br><span class="line">    <span class="keyword">private</span> BitmapShader shader;</span><br><span class="line">    <span class="comment">// shader matrix</span></span><br><span class="line">    <span class="keyword">private</span> Matrix shaderMatrix;</span><br><span class="line">    <span class="comment">// wave drawable</span></span><br><span class="line">    <span class="keyword">private</span> Drawable wave;</span><br><span class="line">    <span class="comment">// (getHeight() - waveHeight) / 2</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">float</span> offsetY;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TitanicTextView</span><span class="params">(Context context)</span> {</span><br><span class="line">        <span class="built_in">super</span>(context);</span><br><span class="line">        init();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TitanicTextView</span><span class="params">(Context context, AttributeSet attrs)</span> {</span><br><span class="line">        <span class="built_in">super</span>(context, attrs);</span><br><span class="line">        init();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TitanicTextView</span><span class="params">(Context context, AttributeSet attrs, <span class="type">int</span> defStyle)</span> {</span><br><span class="line">        <span class="built_in">super</span>(context, attrs, defStyle);</span><br><span class="line">        init();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> {</span><br><span class="line">        shaderMatrix = <span class="keyword">new</span> <span class="title class_">Matrix</span>();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> AnimationSetupCallback <span class="title function_">getAnimationSetupCallback</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> animationSetupCallback;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAnimationSetupCallback</span><span class="params">(AnimationSetupCallback animationSetupCallback)</span> {</span><br><span class="line">        <span class="built_in">this</span>.animationSetupCallback = animationSetupCallback;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> <span class="title function_">getMaskX</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> maskX;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMaskX</span><span class="params">(<span class="type">float</span> maskX)</span> {</span><br><span class="line">        <span class="built_in">this</span>.maskX = maskX;</span><br><span class="line">        invalidate();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> <span class="title function_">getMaskY</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> maskY;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMaskY</span><span class="params">(<span class="type">float</span> maskY)</span> {</span><br><span class="line">        <span class="built_in">this</span>.maskY = maskY;</span><br><span class="line">        invalidate();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSinking</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> sinking;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSinking</span><span class="params">(<span class="type">boolean</span> sinking)</span> {</span><br><span class="line">        <span class="built_in">this</span>.sinking = sinking;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSetUp</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> setUp;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTextColor</span><span class="params">(<span class="type">int</span> color)</span> {</span><br><span class="line">        <span class="built_in">super</span>.setTextColor(color);</span><br><span class="line">        createShader();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTextColor</span><span class="params">(ColorStateList colors)</span> {</span><br><span class="line">        <span class="built_in">super</span>.setTextColor(colors);</span><br><span class="line">        createShader();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onSizeChanged</span><span class="params">(<span class="type">int</span> w, <span class="type">int</span> h, <span class="type">int</span> oldw, <span class="type">int</span> oldh)</span> {</span><br><span class="line">        <span class="built_in">super</span>.onSizeChanged(w, h, oldw, oldh);</span><br><span class="line"></span><br><span class="line">        createShader();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!setUp) {</span><br><span class="line">            setUp = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (animationSetupCallback != <span class="literal">null</span>) {</span><br><span class="line">                animationSetupCallback.onSetupAnimation(TitanicTextView.<span class="built_in">this</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Create the shader</span></span><br><span class="line"><span class="comment">     * draw the wave with current color for a background</span></span><br><span class="line"><span class="comment">     * repeat the bitmap horizontally, and clamp colors vertically</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">createShader</span><span class="params">()</span> {</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (wave == <span class="literal">null</span>) {</span><br><span class="line">            wave = getResources().getDrawable(R.drawable.wave);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">waveW</span> <span class="operator">=</span> wave.getIntrinsicWidth();</span><br><span class="line">        <span class="type">int</span> <span class="variable">waveH</span> <span class="operator">=</span> wave.getIntrinsicHeight();</span><br><span class="line"></span><br><span class="line">        <span class="type">Bitmap</span> <span class="variable">b</span> <span class="operator">=</span> Bitmap.createBitmap(waveW, waveH, Bitmap.Config.ARGB_8888);</span><br><span class="line">        <span class="type">Canvas</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Canvas</span>(b);</span><br><span class="line"></span><br><span class="line">        c.drawColor(getCurrentTextColor());</span><br><span class="line"></span><br><span class="line">        wave.setBounds(<span class="number">0</span>, <span class="number">0</span>, waveW, waveH);</span><br><span class="line">        wave.draw(c);</span><br><span class="line"></span><br><span class="line">        shader = <span class="keyword">new</span> <span class="title class_">BitmapShader</span>(b, Shader.TileMode.REPEAT, Shader.TileMode.CLAMP);</span><br><span class="line">        getPaint().setShader(shader);</span><br><span class="line"></span><br><span class="line">        offsetY = (getHeight() - waveH) / <span class="number">2</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onDraw</span><span class="params">(Canvas canvas)</span> {</span><br><span class="line"></span><br><span class="line">        <span class="comment">// modify text paint shader according to sinking state</span></span><br><span class="line">        <span class="keyword">if</span> (sinking &amp;&amp; shader != <span class="literal">null</span>) {</span><br><span class="line"></span><br><span class="line">            <span class="comment">// first call after sinking, assign it to our paint</span></span><br><span class="line">            <span class="keyword">if</span> (getPaint().getShader() == <span class="literal">null</span>) {</span><br><span class="line">                getPaint().setShader(shader);</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="comment">// translate shader accordingly to maskX maskY positions</span></span><br><span class="line">            <span class="comment">// maskY is affected by the offset to vertically center the wave</span></span><br><span class="line">            shaderMatrix.setTranslate(maskX, maskY + offsetY);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// assign matrix to invalidate the shader</span></span><br><span class="line">            shader.setLocalMatrix(shaderMatrix);</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            getPaint().setShader(<span class="literal">null</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="built_in">super</span>.onDraw(canvas);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>这个类继承了TextView，这代表如果要使用这个文件，则是导入组件，README中也是这样告诉你的。</p>
<p>How to use</p>
<p>Add a <code>TitanicTextView</code> to your layout:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;com.romainpiel.titanic.TitanicTextView</span><br><span class="line">    android:id="@+id/titanic_tv"</span><br><span class="line">    android:text="@string/loading"</span><br><span class="line">    android:layout_width="wrap_content"</span><br><span class="line">    android:layout_height="wrap_content"</span><br><span class="line">    android:textColor="#212121"</span><br><span class="line">    android:textSize="70sp"/&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>至此最关键的部分已经搞定，复制文件的时候需要注意层级关系，同时复制完成后可能会遇到报错的情况，这是因为自己的项目一些引入的路径可能不对，需要重新更改下路径，比如官方给出的com.romainpiel.titanic.TitanicTextView在自己的项目中并不对，因为我的层级不是这样的，对我而言，则是使用:com.romainpiel.titanic.library.TitanicTextView，举一反三，其他也是如此。</p>
<p>注意将所有用到的文件都复制进去，这里还有一张资源图片就不过多讲了。</p>
<p>至此，已经成功使用了他人的项目，一些细节的修改可以通过阅读代码来做到。</p>
<h2 id="导入依赖"><a href="#导入依赖" class="headerlink" title="导入依赖"></a>导入依赖</h2><p>项目自带的功能已经无法满足当前的开发，这时候就需要导入依赖来获得更多的功能支持，这里我用我目前需要的依赖作为演示来告诉你如何导入依赖。</p>
<p>在我做的项目中，我需要一个可以将数据转换为excol表格的功能，在网上翻阅显示需要使用apache官方制作的依赖API，叫做org.apache.poi，确定好需要导入的版本，然后打开——项目结构——依赖——找到+号——点击第一个lib，可以看到点击+号后有两个选择，这方便代表在线寻找lib和通过jar包导入，我没有jar包，所以使用搜索。</p>
<p>搜索org.apache.poi后，找到具体的依赖和选好需要的版本后，点击应用和确定，开始自动导入依赖进行下载。</p>
<p>亦或者本地下载jar包后，可以在libs中炸包。</p>
<p>等待下载完成后即可。</p>
<h2 id="页面跳转"><a href="#页面跳转" class="headerlink" title="页面跳转"></a>页面跳转</h2><p>一个页面所能展示的组件总是有限的，虽然你可以通过隐藏组件的方式来做到伪跳转页面，但是这样显然会让代码变的臃肿，同时不方便维护。</p>
<p>IDEA有提供更加便捷的跳转页面的方式，只需要创建一个页面，然后几行代码，一切就会帮你搞定。</p>
<p>在您的项目中创建两个活动（Activity），即两个页面。您可以通过在项目资源管理器中右键单击“app”文件夹并选择“New -&gt; Activity -&gt; Empty Activity”来创建新的活动。</p>
<p>创建完成后，会发现多了两个文件，分别是代表Main的MainActivit2，和在layout里的activity_main2.xml，其中一个是到这个页面被创建的时候会执行的代码块和用来给页面布局的xml。</p>
<p>想要实现跳转，也只需要一个契机，比如创建一个按钮，点击后跳转，这需要使用提供好的方法。</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//        获取jump按钮</span></span><br><span class="line">        <span class="type">Button</span> <span class="variable">btn_jump</span> <span class="operator">=</span> findViewById(R.id.btn_jump);</span><br><span class="line"></span><br><span class="line">        btn_jump.setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View v)</span> {</span><br><span class="line"><span class="comment">//                JUMP other Layout</span></span><br><span class="line">                Log.e(<span class="string">"TAG"</span>,<span class="string">"JUMP被点击了"</span>);</span><br><span class="line">                <span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Intent</span>(MainActivity.<span class="built_in">this</span>, MainActivity2.class);</span><br><span class="line">                startActivity(intent);</span><br><span class="line">            }</span><br><span class="line">        });</span><br></pre></td></tr></tbody></table></figure>

<p>获取第一个页面的按钮，然后重写点击方法，通过new Intent来填写两个参数，来告诉代码从哪里跳转到哪里，比如我从第一个页面跳转到第二个页面就是，MainActivity.this，.this不就是当前吗，然后MainActivity2.class，则是第二个页面的类。</p>
<p>至此跳转完成。</p>
<p>这部分我参考了掘金的一篇文章：<a target="_blank" rel="noopener" href="https://juejin.cn/s/android%20studio%E5%AE%9E%E7%8E%B0%E4%B8%A4%E4%B8%AA%E9%A1%B5%E9%9D%A2%E7%9A%84%E8%B7%B3%E8%BD%AC">https://juejin.cn/s/android%20studio%E5%AE%9E%E7%8E%B0%E4%B8%A4%E4%B8%AA%E9%A1%B5%E9%9D%A2%E7%9A%84%E8%B7%B3%E8%BD%AC</a></p>
<p>文章内容也贴在下方：</p>
<h2 id="android-studio实现两个页面的跳转"><a href="#android-studio实现两个页面的跳转" class="headerlink" title="android studio实现两个页面的跳转"></a>android studio实现两个页面的跳转</h2><p>要在 Android Studio 中实现两个页面的跳转，您可以按照以下步骤进行操作：</p>
<ol>
<li>创建一个新的 Android Studio 项目。</li>
<li>在您的项目中创建两个活动（Activity），即两个页面。您可以通过在项目资源管理器中右键单击“app”文件夹并选择“New -&gt; Activity -&gt; Empty Activity”来创建新的活动。</li>
<li>在第一个活动中，添加一个按钮或其他视图元素，以触发跳转到第二个活动。您可以在 XML 布局文件中添加该元素，如下所示：</li>
</ol>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line">xml复制代码<span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/btn_go_to_second_activity"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:text</span>=<span class="string">"Go to Second Activity"</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<ol>
<li>在第一个活动的 Java 代码中，获取对该按钮的引用，并为其设置一个点击监听器。在监听器中，创建一个 Intent 对象，并使用 startActivity() 方法将其传递给第二个活动。代码如下所示：</li>
</ol>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">java复制代码<span class="type">Button</span> <span class="variable">btnGoToSecondActivity</span> <span class="operator">=</span> findViewById(R.id.btn_go_to_second_activity);</span><br><span class="line">btnGoToSecondActivity.setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() {</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View view)</span> {</span><br><span class="line">        <span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Intent</span>(FirstActivity.<span class="built_in">this</span>, SecondActivity.class);</span><br><span class="line">        startActivity(intent);</span><br><span class="line">    }</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

<ol>
<li>在第二个活动中，您可以添加返回第一个活动的按钮。同样，您可以在 XML 布局文件中添加该元素，如下所示：</li>
</ol>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line">xml复制代码<span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/btn_go_back"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:text</span>=<span class="string">"Go Back"</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<ol>
<li>在第二个活动的 Java 代码中，获取对该按钮的引用，并为其设置一个点击监听器。在监听器中，使用 finish() 方法关闭第二个活动，返回第一个活动。代码如下所示：</li>
</ol>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">java复制代码<span class="type">Button</span> <span class="variable">btnGoBack</span> <span class="operator">=</span> findViewById(R.id.btn_go_back);</span><br><span class="line">btnGoBack.setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() {</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View view)</span> {</span><br><span class="line">        finish();</span><br><span class="line">    }</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

<p>通过以上步骤，您可以在 Android Studio 中实现两个页面之间的跳转。请注意，在创建 Intent 对象时，您需要指定要跳转到的活动类名。同时，在第二个活动中返回第一个活动时，您可以使用 finish() 方法关闭第二个活动。</p>
<h2 id="SharedPreferences"><a href="#SharedPreferences" class="headerlink" title="SharedPreferences"></a>SharedPreferences</h2><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>通过创建xml,和使用它的编辑方法实现添加数据删除数据或者其他操作</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ShowContainer</span><span class="params">()</span>{</span><br><span class="line">        <span class="comment">//        读取数据添加到容器里</span></span><br><span class="line">        <span class="type">SharedPreferences</span> <span class="variable">sharedPreferences</span> <span class="operator">=</span> getSharedPreferences(<span class="string">"my_data"</span>, MODE_PRIVATE);</span><br><span class="line">        <span class="comment">//        获取SharedPreferences的编辑对象</span></span><br><span class="line">        Map&lt;String, String&gt; dataMap = parseStringToMap(sharedPreferences.getAll().toString());</span><br><span class="line"><span class="comment">//                        DataMap只输出了Values</span></span><br><span class="line">        System.out.println(dataMap.values() + <span class="string">"size:"</span> + dataMap.size());</span><br><span class="line">        <span class="comment">// 获取要添加的组件的容器</span></span><br><span class="line">        <span class="type">LinearLayout</span> <span class="variable">container</span> <span class="operator">=</span> findViewById(R.id.main_line);</span><br><span class="line">        container.removeAllViews();</span><br><span class="line">        <span class="comment">//        倒序</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> dataMap.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">            <span class="comment">//            创建TextView</span></span><br><span class="line">            <span class="type">TextView</span> <span class="variable">textView</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextView</span>(AddActivity.<span class="built_in">this</span>);</span><br><span class="line">            textView.setText(dataMap.get(String.valueOf(i+<span class="number">1</span>)));</span><br><span class="line">            textView.setTextSize(<span class="number">30</span>);</span><br><span class="line">            container.addView(textView);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<p>这个方法新建对象创建了my_data.xml将文件存储在这里。</p>
<p>不管是在模拟器运行还是在真机运动，如果你需要找到文件的具体位置那么可以阅读下面文章:</p>
<p>通過使用SharedPreferences可以将数据保存在本地，在一篇博文中，提到:</p>
<p>SharedPreferences 会在应用包目录中生成一个xml文件，将数据保存在里面,可以实现数据持久性保存。</p>
<p>创建的数据，保存在 Data -&gt; Data -&gt; 包名 -&gt; shared_prefs 文件夹中</p>
<p>博文地址:<a target="_blank" rel="noopener" href="https://www.cnblogs.com/gfwei/p/11781050.html">https://www.cnblogs.com/gfwei/p/11781050.html</a></p>
<p>但在我的实际寻找中，我没有在com.sharedPreferences里找到，可能是因为我是在模拟器运行中找的，我是在我的项目包名里面找到了这个文件，确实是my_data.xml。这个包名的意思就是项目的包名。</p>
<h2 id="Sqlite"><a href="#Sqlite" class="headerlink" title="Sqlite"></a>Sqlite</h2><p>创建帮助类</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.financing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.database.DatabaseErrorHandler;</span><br><span class="line"><span class="keyword">import</span> android.database.sqlite.SQLiteDatabase;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> androidx.annotation.Nullable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DBOpenHelper</span> <span class="keyword">extends</span> <span class="title class_">android</span>.database.sqlite.SQLiteOpenHelper {</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DBOpenHelper</span><span class="params">(<span class="meta">@Nullable</span> Context context, <span class="meta">@Nullable</span> String name, <span class="meta">@Nullable</span> SQLiteDatabase.CursorFactory factory, <span class="type">int</span> version)</span> {</span><br><span class="line">        <span class="built_in">super</span>(context, name, factory, version);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DBOpenHelper</span><span class="params">(<span class="meta">@Nullable</span> Context context, <span class="meta">@Nullable</span> String name, <span class="meta">@Nullable</span> SQLiteDatabase.CursorFactory factory, <span class="type">int</span> version, <span class="meta">@Nullable</span> DatabaseErrorHandler errorHandler)</span> {</span><br><span class="line">        <span class="built_in">super</span>(context, name, factory, version, errorHandler);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="comment">//    使用onCreate可以在初次使用数据库时，自动创建表，第二次启动则不会创建，自带了判断</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCreate</span><span class="params">(SQLiteDatabase db)</span> {</span><br><span class="line">        <span class="comment">//创建数据库sql语句并执行</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">"CREATE TABLE expenditure ("</span> +</span><br><span class="line">                <span class="string">"id INTEGER PRIMARY KEY AUTOINCREMENT,"</span> +</span><br><span class="line">                <span class="string">"amount REAL,"</span> +</span><br><span class="line">                <span class="string">"category TEXT,"</span> +</span><br><span class="line">                <span class="string">"date DATE,"</span> +</span><br><span class="line">                <span class="string">"transaction_method TEXT,"</span> +</span><br><span class="line">                <span class="string">"account TEXT,"</span> +</span><br><span class="line">                <span class="string">"payee TEXT,"</span> +</span><br><span class="line">                <span class="string">"location TEXT,"</span> +</span><br><span class="line">                <span class="string">"attachment TEXT,"</span> +</span><br><span class="line">                <span class="string">"notes TEXT)"</span>;</span><br><span class="line">        db.execSQL(sql);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onUpgrade</span><span class="params">(SQLiteDatabase db, <span class="type">int</span> oldVersion, <span class="type">int</span> newVersion)</span> {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>使用一个数据库</p>
<p>在上述代码中，<code>null</code>和<code>1</code>是用于创建数据库以及获取可写数据库的参数。</p>
<p>对于<code>null</code>参数，它表示数据库游标工厂（<code>CursorFactory</code>），用于控制查询结果集指针的行为。如果你不需要自定义行为，可以将其设置为<code>null</code>，系统将使用默认的游标工厂。</p>
<p>而对于<code>1</code>参数，它表示数据库版本号（database version），用于管理数据库的升级和降级。每当你对数据库进行结构上的改变时，你需要递增版本号。这样在下一次打开数据库时，系统会调用<code>onUpgrade()</code>方法，你可以在该方法中执行数据库的升级操作。对于刚开始创建的数据库，版本号通常设置为1。</p>
<p>这些参数可以根据你的实际需求进行自定义调整。</p>
<h1 id="重要组件"><a href="#重要组件" class="headerlink" title="重要组件"></a>重要组件</h1><p>Activity和Fragment是Android应用程序中的两个重要组件。</p>
<p><strong>Activity（活动）</strong>是用户与应用程序交互的主要界面单元。每个Activity都是一个单独的屏幕，它负责处理用户输入、加载布局、管理生命周期等。通常，一个应用程序由多个Activity组成，每个Activity代表一个屏幕，用户通过在不同的Activity之间进行转换来与应用程序进行交互。</p>
<p><strong>Fragment（片段）</strong>是Activity界面的一部分或一块可重用的UI组件。一个Activity可以包含多个Fragment，并且Fragment可以在运行时动态添加、移除或替换。Fragment具有自己的生命周期，并且可以嵌套在Activity的布局中。使用Fragment可以使界面更加模块化和灵活，有助于构建适应不同屏幕尺寸和方向的响应式界面。</p>
<p>它们之间的主要区别在于：</p>
<ol>
<li><strong>生命周期管理</strong>：Activity有自己的生命周期方法（如onCreate，onStart，onResume等），而Fragment也有类似的生命周期方法，但与Activity的生命周期方法不完全相同。Fragment的生命周期受到其宿主Activity的生命周期影响。</li>
<li><strong>布局管理</strong>：Activity有自己的布局文件（XML文件），定义整个屏幕的布局结构，而Fragment通常嵌套在Activity的布局中，可以与Activity共享同一个布局文件，也可以使用独立的布局文件。</li>
<li><strong>重用性和灵活性</strong>：Fragment的设计目的是提高UI组件的重用性和灵活性。通过在不同的Activity中重用Fragment，可以减少重复代码，简化开发流程，并且能够更灵活地构建多屏幕应用程序。</li>
</ol>
<p>总的来说，Activity是整个应用程序的主要组成部分，而Fragment是Activity的一部分，用于实现界面的模块化和重用。在学习Android开发时，通常建议先学习Activity，然后深入理解Fragment的使用。</p>
<h1 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h1><p>学习Andriod Studio是为了开发一款理财软件，在学习的过程中我也会记录开发过程，只有实践和理论同时进行，才能让学习的效率更高。</p>
<h2 id="开屏展示"><a href="#开屏展示" class="headerlink" title="开屏展示"></a>开屏展示</h2><p>目前我要做的第一件事情就是开发一个开屏展示，我希望打开软件的时候，先展示一个页面，几秒中后关闭页面，展示软件主页内容。</p>
<p>这个开屏可以用于，显示广告，显示LOGO，显示教程等等等。</p>
<p>编写逻辑：我首先编写一个组件，目前我使用的是TextView，文本组件，然后创建一个对应的类继承这个组件，当加载这个组件的时候，有一个计时器倒数五秒后，隐藏本组件。</p>
<p>代码：</p>
<p>页面端：</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/main"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">".MainActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">com.example.financing.TextViewLain</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/tv_one"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"#3488B5"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:ellipsize</span>=<span class="string">"marquee"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:focusable</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"50dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:focusableInTouchMode</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:marqueeRepeatLimit</span>=<span class="string">"marquee_forever"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:singleLine</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"@string/lain"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">"@color/black"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textStyle</span>=<span class="string">"italic"</span>&gt;</span><span class="tag">&lt;/<span class="name">com.example.financing.TextViewLain</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"hello"</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TextView</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>



<p>JAVA端:</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.financing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.util.AttributeSet;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"><span class="keyword">import</span> android.os.Handler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> androidx.annotation.Nullable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TextViewLain</span> <span class="keyword">extends</span> <span class="title class_">TextView</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TextViewLain</span><span class="params">(Context context)</span> {</span><br><span class="line">        <span class="built_in">super</span>(context);</span><br><span class="line">        init();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TextViewLain</span><span class="params">(Context context, <span class="meta">@Nullable</span> AttributeSet attrs)</span> {</span><br><span class="line">        <span class="built_in">super</span>(context, attrs);</span><br><span class="line">        init();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TextViewLain</span><span class="params">(Context context, <span class="meta">@Nullable</span> AttributeSet attrs, <span class="type">int</span> defStyleAttr)</span> {</span><br><span class="line">        <span class="built_in">super</span>(context, attrs, defStyleAttr);</span><br><span class="line">        init();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> {</span><br><span class="line">        <span class="comment">// 设置TextViewLain为获取焦点状态</span></span><br><span class="line">        setFocusable(<span class="literal">true</span>);</span><br><span class="line">        setFocusableInTouchMode(<span class="literal">true</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onAttachedToWindow</span><span class="params">()</span> {</span><br><span class="line">        <span class="built_in">super</span>.onAttachedToWindow();</span><br><span class="line">        <span class="comment">// 在5秒后执行关闭或隐藏操作</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Handler</span>().postDelayed(<span class="keyword">new</span> <span class="title class_">Runnable</span>() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> {</span><br><span class="line">                <span class="comment">// 在这里添加关闭或隐藏组件的代码</span></span><br><span class="line">                <span class="comment">// 如果要隐藏组件，可以使用setVisibility(View.GONE);</span></span><br><span class="line">                <span class="comment">// 如果要关闭组件，可以使用setVisibility(View.INVISIBLE); 或者从父布局中移除组件</span></span><br><span class="line">                <span class="comment">// 例如：getParent().removeView(TextViewLain.this);</span></span><br><span class="line">                <span class="comment">// 这里仅提供示例代码，请根据您的需求进行相应修改</span></span><br><span class="line">                TextViewLain.<span class="built_in">this</span>.setVisibility(GONE);</span><br><span class="line">            }</span><br><span class="line">        }, <span class="number">5000</span>); <span class="comment">// 5000毫秒 = 5秒</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//    重写</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isFocused</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>至此，实现了我需要的效果，但我认为这个消失转场有些生硬，之后有机会修改一下。</p>
<p>之所以五秒后显示Hello，则是利用了从上往下渲染的规则，开屏的View遮住了Hello，只有View消失后才能显示Hello。</p>
<p>开屏展示后期完成数据展示的逻辑后，会将比较常用的数据直接展示，如收入，支出等等，当然可以自定义，也可以取消展示。</p>
<p>但目前先显示品牌LOGO。</p>
<h2 id="基础记账"><a href="#基础记账" class="headerlink" title="基础记账"></a>基础记账</h2><p>制作基础记账功能首先分析需求。</p>
<p>首先需要一个输入框可以输入文本，然后需要一个添加按钮，点击按钮的时候会读取输入框里的内容，和目前已经有的数据做加法运算。</p>
<p>显示运算结果需要两个TextView，用来显示两个数据，第一个是总和，第二个是每次相加的结果，这样可以看到自己目前花了多少钱，和每笔详细的消费。</p>
<p>第一个显示数据好做，创建一个TextView，然后用set方法直接修改组件的默认Text就可以。瓦问题是第二个显示，因为要显示多个内容，所以必须每次添加后创建一个新的TextView，用来显示当前一笔的详细消费。</p>
<p>这里在我查阅资料后想出了这种写法。</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">androidx.constraintlayout.widget.ConstraintLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/main"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">".MainActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">com.example.financing.TextViewLain</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/tv_one"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"#3488B5"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:ellipsize</span>=<span class="string">"marquee"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:focusable</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:focusableInTouchMode</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:marqueeRepeatLimit</span>=<span class="string">"marquee_forever"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:singleLine</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"@string/lain"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">"@color/black"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"24sp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textStyle</span>=<span class="string">"italic"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">"parent"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/edit_text"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginStart</span>=<span class="string">"16dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginTop</span>=<span class="string">"40dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginEnd</span>=<span class="string">"16dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:hint</span>=<span class="string">"输入金额"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintTop_toBottomOf</span>=<span class="string">"@id/tv_one"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/btn_sum"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"100dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"60dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginTop</span>=<span class="string">"16dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"#4BC0FF"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"添加"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">"#FFFFFF"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintHorizontal_bias</span>=<span class="string">"0.5"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintTop_toBottomOf</span>=<span class="string">"@id/edit_text"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/text_num"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginStart</span>=<span class="string">"16dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginTop</span>=<span class="string">"16dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginEnd</span>=<span class="string">"16dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"0"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintTop_toBottomOf</span>=<span class="string">"@id/btn_sum"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ScrollView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintTop_toBottomOf</span>=<span class="string">"@id/text_num"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/main_line"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginTop</span>=<span class="string">"16dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">tools:layout_editor_absoluteX</span>=<span class="string">"0dp"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:text</span>=<span class="string">"添加数据"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- Add more views here if needed --&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ScrollView</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;TextView--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        android:layout_width="match_parent"--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        android:layout_height="30dp"--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        android:text="@string/app_v"--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        android:textSize="20dp"--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        android:textColor="#FF0000"--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &gt;--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    &lt;/TextView&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">androidx.constraintlayout.widget.ConstraintLayout</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>从这段代码中，可以看到我在父容器ConstraintLayout里又创建了一个LinearLayout，因为在我想的时候我发现xml本质上和HTML差不多，而我的预想是为了保持布局的设计，我需要多个BOX，每个Box显示不同的内容，所以就有个这个内容器。</p>
<p>然后这个容器外面有一个ScrollView，这个标签的作用是为了判断，如果容器内的组件占满后，会出现滚动条，用来往下滑动以持续显示数据。</p>
<p>就这样，完成了页面的构建，虽然简陋，但在目前而言，我的目的主要是为了高效的学习。</p>
<p>至于逻辑部分的代码，我是这样写的</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.financing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"><span class="keyword">import</span> android.widget.LinearLayout;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> androidx.activity.EdgeToEdge;</span><br><span class="line"><span class="keyword">import</span> androidx.appcompat.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> androidx.constraintlayout.widget.ConstraintLayout;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainActivity</span> <span class="keyword">extends</span> <span class="title class_">AppCompatActivity</span> {</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onCreate</span><span class="params">(Bundle savedInstanceState)</span> {</span><br><span class="line">        <span class="built_in">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        EdgeToEdge.enable(<span class="built_in">this</span>);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        获取按钮</span></span><br><span class="line">        <span class="type">Button</span> <span class="variable">btn_sum</span> <span class="operator">=</span> findViewById(R.id.btn_sum);</span><br><span class="line"><span class="comment">//        获取文本框内容</span></span><br><span class="line">        <span class="type">EditText</span> <span class="variable">edit_text</span> <span class="operator">=</span> findViewById(R.id.edit_text);</span><br><span class="line"><span class="comment">//        获取保存的数据</span></span><br><span class="line">        <span class="type">TextView</span> <span class="variable">text_num</span> <span class="operator">=</span> findViewById(R.id.text_num);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        btn_sum.setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View v)</span> {</span><br><span class="line">                <span class="comment">// 在按钮点击事件中执行你想要的操作</span></span><br><span class="line">                <span class="comment">// 获取文本框中的内容</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">editTextContent</span> <span class="operator">=</span> edit_text.getText().toString();</span><br><span class="line">                <span class="comment">// 获取 TextView 中的文本</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">textViewContent</span> <span class="operator">=</span> text_num.getText().toString();</span><br><span class="line"></span><br><span class="line"><span class="comment">//                获取要添加的组件的容器</span></span><br><span class="line">                <span class="type">LinearLayout</span> <span class="variable">container</span> <span class="operator">=</span> findViewById(R.id.main_line);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (editTextContent.isEmpty()){</span><br><span class="line">                    Log.d(<span class="string">"TAG"</span>,<span class="string">"报错:输入为空"</span>);</span><br><span class="line"></span><br><span class="line">                }<span class="keyword">else</span> {</span><br><span class="line">                    <span class="comment">// 将字符串转换为 double 类型</span></span><br><span class="line">                    <span class="type">double</span> <span class="variable">editTextValue</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">try</span> {</span><br><span class="line">                        editTextValue = Double.parseDouble(editTextContent);</span><br><span class="line">                        <span class="comment">// 在这里处理转换成功的情况</span></span><br><span class="line">                    } <span class="keyword">catch</span> (NumberFormatException e) {</span><br><span class="line">                        <span class="comment">// 在这里处理转换失败的情况，即输入不是有效的数字或小数</span></span><br><span class="line">                        Log.d(<span class="string">"TAG"</span>, <span class="string">"报错:输入不是有效的数字或小数"</span>);</span><br><span class="line">                    }</span><br><span class="line">                    <span class="type">double</span> <span class="variable">textViewValue</span> <span class="operator">=</span> Double.parseDouble(textViewContent);</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// 计算总和</span></span><br><span class="line">                    <span class="type">double</span> <span class="variable">sum</span> <span class="operator">=</span> editTextValue + textViewValue;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// 将结果显示在 TextView 中</span></span><br><span class="line">                    text_num.setText(String.valueOf(sum));</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// 清空文本框内容</span></span><br><span class="line">                    edit_text.setText(<span class="string">""</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="type">TextView</span> <span class="variable">textView</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextView</span>(MainActivity.<span class="built_in">this</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//设置点击按钮后要添加的内容</span></span><br><span class="line">                    textView.setText(editTextContent);</span><br><span class="line">                    textView.setTextSize(<span class="number">30</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//                    textView.setLayoutParams(new LinearLayout.LayoutParams(</span></span><br><span class="line"><span class="comment">//                            ViewGroup.LayoutParams.WRAP_CONTENT,</span></span><br><span class="line"><span class="comment">//                            LinearLayout.LayoutParams.WRAP_CONTENT));</span></span><br><span class="line"></span><br><span class="line">                    container.addView(textView);</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>大概就是获取这三个组件，然后依次做出操作，值得一讲的是，这个自动创建组件的功能，可以new出组件后，先对组件设置相关必要参数，然后添加到容器中，这个容器就是我创建LinearLayout的原因，如果直接将组件添加到父容器中，那么布局就会重叠变乱，而我设定好LinearLayout后，少了很多不必要的麻烦，容器会对里面添加的组件排版，然后每行显示一条数据。</p>
<h2 id="美观的加载画面"><a href="#美观的加载画面" class="headerlink" title="美观的加载画面"></a>美观的加载画面</h2><p>今天在论坛中看到了一个他人推荐的github项目 Titanic for Android。</p>
<p>大概原理我推断，通过读取字体文件ttf后，然后使用着色器美化动态效果，然后调用组件。</p>
<p>官方文档:</p>
<p>How to use</p>
<p>Add a <code>TitanicTextView</code> to your layout:</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">com.romainpiel.titanic.TitanicTextView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/titanic_tv"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:text</span>=<span class="string">"@string/loading"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:textColor</span>=<span class="string">"#212121"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:textSize</span>=<span class="string">"70sp"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>To start the animation:</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">titanic = <span class="keyword">new</span> <span class="title class_">Titanic</span>();</span><br><span class="line">titanic.start(myTitanicTextView);</span><br></pre></td></tr></tbody></table></figure>

<p>You may want to keep track of the titanic instance after the animation is started if you want to stop it.</p>
<p>To stop it:</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">titanic.cancel();</span><br></pre></td></tr></tbody></table></figure>

<p>将这个项目添加到自己的项目来实现这个功能。</p>
<h2 id="数据的保存和转换"><a href="#数据的保存和转换" class="headerlink" title="数据的保存和转换"></a>数据的保存和转换</h2><p>通过使用SharedPreferences保存数据然后使用org.apache.poi依赖将数据转换成excol。</p>
<p>org.apache.poi报错，当前版本无法适配，切换org.apache.poi的版本号后成功运行，或者修改minskd也可以，但这样会让一些手机无法卡退。</p>
<h2 id="创建一个数据库用来存储"><a href="#创建一个数据库用来存储" class="headerlink" title="创建一个数据库用来存储"></a>创建一个数据库用来存储</h2><p>虽然使用上面的方法也能够存储数据，但是面对大量需要索引的数据时，就显得没有那么方便和迅速，对于这个对象只适合存放一些日常的数据，面对大量需要检索的数据时，则需要数据库。</p>
<p>首先需要设计几个表，这里比如我设计出了一个支出表，它拥有以下列：</p>
<ol>
<li>id: 整型，主键，具有自动增量属性，用于唯一标识每个支出记录。</li>
<li>amount: 实数，用于存储支出金额。</li>
<li>category: 文本，用于存储支出的类别或类型。</li>
<li>date: 日期，用于存储支出发生的日期。</li>
<li>transaction_method: 文本，用于存储支付方式或交易方式。</li>
<li>account: 文本，用于存储支出所使用的账户信息。</li>
<li>payee: 文本，用于存储收款人或收款机构的信息。</li>
<li>location: 文本，用于存储支出发生的地点或位置信息。</li>
<li>attachment: 文本，用于存储任何附加文件或照片的路径或链接。</li>
<li>notes: 文本，用于存储关于支出的任何备注或说明。</li>
</ol>
<p>然后根据设计好的表去创建：</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">"CREATE TABLE expenditure ("</span> +</span><br><span class="line">             <span class="string">"id INTEGER PRIMARY KEY AUTOINCREMENT,"</span> +</span><br><span class="line">             <span class="string">"amount REAL,"</span> +</span><br><span class="line">             <span class="string">"category TEXT,"</span> +</span><br><span class="line">             <span class="string">"date DATE,"</span> +</span><br><span class="line">             <span class="string">"transaction_method TEXT,"</span> +</span><br><span class="line">             <span class="string">"account TEXT,"</span> +</span><br><span class="line">             <span class="string">"payee TEXT,"</span> +</span><br><span class="line">             <span class="string">"location TEXT,"</span> +</span><br><span class="line">             <span class="string">"attachment TEXT,"</span> +</span><br><span class="line">             <span class="string">"notes TEXT)"</span>;</span><br><span class="line">     db.execSQL(sql);</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure>






  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/Blackcat-loveBlog/">首页</a></li>
        
          <li><a href="/Blackcat-loveBlog/about/about">关于</a></li>
        
          <li><a href="/Blackcat-loveBlog/archives/">归档</a></li>
        
          <li><a target="_blank" rel="noopener" href="https://github.com/Blackcat-love">项目</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-number">1.</span> <span class="toc-text">环境搭建</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-number">2.</span> <span class="toc-text">创建项目</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AD%89%E5%BE%85%E4%B8%8B%E8%BD%BD"><span class="toc-number">2.1.</span> <span class="toc-text">等待下载</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-%E4%BF%AE%E6%94%B9Gradle%E6%9D%A5%E6%BA%90"><span class="toc-number">2.1.0.1.</span> <span class="toc-text">① 修改Gradle来源</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-%E6%89%8B%E5%8A%A8%E4%B8%8B%E8%BD%BDGradle"><span class="toc-number">2.1.0.2.</span> <span class="toc-text">② 手动下载Gradle</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-%E4%BD%BF%E7%94%A8%E6%9C%AC%E5%9C%B0Gradle"><span class="toc-number">2.1.0.3.</span> <span class="toc-text">③ 使用本地Gradle</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%EF%BC%9AGradle%E4%BE%9D%E8%B5%96%E9%95%9C%E5%83%8F%E6%BA%90"><span class="toc-number">2.1.1.</span> <span class="toc-text">其他：Gradle依赖镜像源</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-number">2.2.</span> <span class="toc-text">项目结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#APP"><span class="toc-number">2.2.1.</span> <span class="toc-text">APP</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E5%89%8D%E5%87%86%E5%A4%87"><span class="toc-number">3.</span> <span class="toc-text">开发前准备</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E8%AE%BE%E5%A4%87"><span class="toc-number">3.1.</span> <span class="toc-text">创建虚拟设备</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8ADB%E8%BF%9E%E6%8E%A5%E6%89%8B%E6%9C%BA"><span class="toc-number">3.1.1.</span> <span class="toc-text">1.使用ADB连接手机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%99%9A%E6%8B%9F%E8%AE%BE%E5%A4%87"><span class="toc-number">3.1.2.</span> <span class="toc-text">2.创建一个虚拟设备</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E8%99%9A%E6%8B%9F%E8%AE%BE%E5%A4%87"><span class="toc-number">3.2.</span> <span class="toc-text">启动虚拟设备</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%80%E5%8F%91"><span class="toc-number">4.</span> <span class="toc-text">开发</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#TextView"><span class="toc-number">4.1.</span> <span class="toc-text">TextView</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7"><span class="toc-number">4.1.1.</span> <span class="toc-text">属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B4%E5%BD%B1"><span class="toc-number">4.1.2.</span> <span class="toc-text">阴影</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%91%E9%A9%AC%E7%81%AF"><span class="toc-number">4.1.3.</span> <span class="toc-text">跑马灯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Button"><span class="toc-number">4.2.</span> <span class="toc-text">Button</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%B1%9E%E6%80%A7"><span class="toc-number">4.2.1.</span> <span class="toc-text">基本属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8D%E7%BD%AE%E5%B1%9E%E6%80%A7"><span class="toc-number">4.2.2.</span> <span class="toc-text">位置属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%82%B9%E5%87%BB%E6%94%B9%E5%8F%98%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2"><span class="toc-number">4.2.3.</span> <span class="toc-text">点击改变背景颜色</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6"><span class="toc-number">4.2.4.</span> <span class="toc-text">点击事件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8%E5%8C%BF%E5%90%8D%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-number">4.2.4.1.</span> <span class="toc-text">1. 使用匿名内部类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%88%E9%80%82%E7%94%A8%E4%BA%8EJava-8%E5%8F%8A%E4%BB%A5%E4%B8%8A%EF%BC%89"><span class="toc-number">4.2.4.2.</span> <span class="toc-text">2. 使用Lambda表达式（适用于Java 8及以上）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%9C%A8-XML-%E4%B8%AD%E6%B7%BB%E5%8A%A0-onClick-%E5%B1%9E%E6%80%A7%EF%BC%88%E4%B8%8D%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%EF%BC%8C%E4%BB%85%E9%80%82%E7%94%A8%E4%BA%8E%E5%8D%95%E4%B8%80%E4%BA%8B%E4%BB%B6%EF%BC%89"><span class="toc-number">4.2.4.3.</span> <span class="toc-text">3. 在 XML 中添加 onClick 属性（不推荐使用，仅适用于单一事件）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%EF%BC%88onClick%EF%BC%89"><span class="toc-number">4.2.4.4.</span> <span class="toc-text">点击事件（onClick）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%95%BF%E6%8C%89%E4%BA%8B%E4%BB%B6%EF%BC%88onLongClick%EF%BC%89"><span class="toc-number">4.2.4.5.</span> <span class="toc-text">长按事件（onLongClick）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A6%E6%91%B8%E4%BA%8B%E4%BB%B6%EF%BC%88onTouch%EF%BC%89"><span class="toc-number">4.2.4.6.</span> <span class="toc-text">触摸事件（onTouch）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E4%B8%8B%E4%BA%8B%E4%BB%B6%EF%BC%88onPress%EF%BC%89"><span class="toc-number">4.2.4.7.</span> <span class="toc-text">按下事件（onPress）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8A%E6%94%BE%E4%BA%8B%E4%BB%B6%EF%BC%88onRelease%EF%BC%89"><span class="toc-number">4.2.4.8.</span> <span class="toc-text">释放事件（onRelease）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90"><span class="toc-number">4.2.4.9.</span> <span class="toc-text">例子:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EditText"><span class="toc-number">4.3.</span> <span class="toc-text">EditText</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-1"><span class="toc-number">4.3.1.</span> <span class="toc-text">属性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ImageView"><span class="toc-number">4.4.</span> <span class="toc-text">ImageView</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-2"><span class="toc-number">4.4.1.</span> <span class="toc-text">属性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ProgressBar"><span class="toc-number">4.5.</span> <span class="toc-text">ProgressBar</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Notfication"><span class="toc-number">4.6.</span> <span class="toc-text">Notfication</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Toolbar"><span class="toc-number">4.7.</span> <span class="toc-text">Toolbar</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AlertDialog"><span class="toc-number">4.8.</span> <span class="toc-text">AlertDialog</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PopupWindow"><span class="toc-number">4.9.</span> <span class="toc-text">PopupWindow</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AlertDialog%E5%BC%B9%E7%AA%97"><span class="toc-number">4.10.</span> <span class="toc-text">AlertDialog弹窗</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E4%BB%96%E4%BA%BA%E7%9A%84%E9%A1%B9%E7%9B%AE"><span class="toc-number">4.11.</span> <span class="toc-text">使用他人的项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5%E4%BE%9D%E8%B5%96"><span class="toc-number">4.12.</span> <span class="toc-text">导入依赖</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC"><span class="toc-number">4.13.</span> <span class="toc-text">页面跳转</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#android-studio%E5%AE%9E%E7%8E%B0%E4%B8%A4%E4%B8%AA%E9%A1%B5%E9%9D%A2%E7%9A%84%E8%B7%B3%E8%BD%AC"><span class="toc-number">4.14.</span> <span class="toc-text">android studio实现两个页面的跳转</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SharedPreferences"><span class="toc-number">4.15.</span> <span class="toc-text">SharedPreferences</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-number">4.15.1.</span> <span class="toc-text">使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sqlite"><span class="toc-number">4.16.</span> <span class="toc-text">Sqlite</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%87%8D%E8%A6%81%E7%BB%84%E4%BB%B6"><span class="toc-number">5.</span> <span class="toc-text">重要组件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B"><span class="toc-number">6.</span> <span class="toc-text">案例</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%B1%8F%E5%B1%95%E7%A4%BA"><span class="toc-number">6.1.</span> <span class="toc-text">开屏展示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E8%AE%B0%E8%B4%A6"><span class="toc-number">6.2.</span> <span class="toc-text">基础记账</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BE%8E%E8%A7%82%E7%9A%84%E5%8A%A0%E8%BD%BD%E7%94%BB%E9%9D%A2"><span class="toc-number">6.3.</span> <span class="toc-text">美观的加载画面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%9A%84%E4%BF%9D%E5%AD%98%E5%92%8C%E8%BD%AC%E6%8D%A2"><span class="toc-number">6.4.</span> <span class="toc-text">数据的保存和转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93%E7%94%A8%E6%9D%A5%E5%AD%98%E5%82%A8"><span class="toc-number">6.5.</span> <span class="toc-text">创建一个数据库用来存储</span></a></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/&text=Android 开发学习笔记"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/&title=Android 开发学习笔记"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/&is_video=false&description=Android 开发学习笔记"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Android 开发学习笔记&body=Check out this article: https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/&title=Android 开发学习笔记"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/&title=Android 开发学习笔记"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/&title=Android 开发学习笔记"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/&title=Android 开发学习笔记"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/&name=Android 开发学习笔记&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://blackcat-love.github.io/Blackcat-loveBlog/2024/04/16/Android-%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/&t=Android 开发学习笔记"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2024
    nana
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/Blackcat-loveBlog/">首页</a></li><!--
     --><!--
       --><li><a href="/Blackcat-loveBlog/about/about">关于</a></li><!--
     --><!--
       --><li><a href="/Blackcat-loveBlog/archives/">归档</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/Blackcat-love">项目</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板！\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功！");
      e.clearSelection();
    })
  })
  </script>


<script src="/Blackcat-loveBlog/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
