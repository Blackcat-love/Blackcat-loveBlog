<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<title>Bocchi the blog&#39;s</title>


<link rel="stylesheet" href="/Blackcat-loveBlog/styles/main.css">


    <meta name="generator" content="Hexo 7.2.0"></head>
    <body>
        <div class="container">
            <header>
<div class="main">
<div class="title">
    <a href="#" class="logo">Bocchi the blog&#39;s</a>
</div>
<div class="site-nav">
    <ul id="menu" class="menu">
    
        <li class="menu-item text-underline">
            <a href="/Blackcat-loveBlog/">Home</a>
        </li>
    
        <li class="menu-item text-underline">
            <a href="/Blackcat-loveBlog/archives">Archives</a>
        </li>
    
        <li class="menu-item text-underline">
            <a href="/Blackcat-loveBlog/about/about">About</a>
        </li>
    
        <li class="menu-item text-underline">
            <a href="/Blackcat-loveBlog/friends/friends">Menu.友链</a>
        </li>
            
    </ul>
</div>
</div>
</header>
            <main class="main">
                <section class="posts clearfix">
    <div class="posts-wrapper">
    
        <article class="post article-entry">
            <div class="post-title">
                <a class="post-title-link text-underline" href="/Blackcat-loveBlog/2024/02/06/%E4%B9%90%E7%90%86%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">乐理学习笔记</a>
            </div>
            <p class="sub">Feb 06 2024</p>
            <div class="post-content">
                
                    <h2 id="大和弦major"><a href="#大和弦major" class="headerlink" title="大和弦major"></a>大和弦major</h2><p>以某个音为主音 隔三隔二构成大和弦</p>
<p>比如c为主音那么Cmajor就是 1 3 5</p>
<p><strong>1</strong> #1 2 #2 <strong>3</strong> 4 4# <strong>5</strong> </p>
<p>隔三： #1 2 #2</p>
<p>隔二： 4 4#</p>
<p>因为3是没有#3的，按照乐理全全半全全全半</p>
<h2 id="小和弦Minor-Chords"><a href="#小和弦Minor-Chords" class="headerlink" title="小和弦Minor Chords"></a>小和弦Minor Chords</h2><p>以某个音为主音 隔二隔三构成大和弦</p>
<p>在大和弦基础上将中间的音降半音就可以得到Minor（降半音就是往左边移动半个音）</p>
<p>比如C和弦 135转成小和弦就是 1 ♭3 5中间的音降了半音 	其中 ♭3也是#2可以对照下方</p>
<p><strong>1</strong> #1 2 <strong>#2</strong> 3 4 4# <strong>5</strong> </p>
<h2 id="大七和弦maj7-chords-or-M7"><a href="#大七和弦maj7-chords-or-M7" class="headerlink" title="大七和弦maj7 chords or M7"></a>大七和弦maj7 chords or M7</h2><p>还是使用大和弦转大七和弦 在大和弦基础上 将第一个音降半音 或者 在大和弦基础上添加第七个音</p>
<h2 id="七和弦-7-chords"><a href="#七和弦-7-chords" class="headerlink" title="七和弦 7 chords"></a>七和弦 7 chords</h2><h2 id="小七和弦"><a href="#小七和弦" class="headerlink" title="小七和弦"></a>小七和弦</h2>
                
            </div>
        </article>
    
        <article class="post article-entry">
            <div class="post-title">
                <a class="post-title-link text-underline" href="/Blackcat-loveBlog/2024/02/04/obs%E6%8F%92%E4%BB%B6/">obs插件</a>
            </div>
            <p class="sub">Feb 04 2024</p>
            <div class="post-content">
                
                    <p>我注意到Twitch的直播里有几个有趣的插件，比如订阅主播后可以增加订阅时长，一般是30s，也就是说只要观众多，直播时长也会越来越久，实现了直播马拉松。</p>
<p>还有通过订阅发言，会直接读出来，亦或者触发感谢音乐。</p>
<p>所以我决定编写一个相同的功能用于OBS or bilibili直播姬 的插件。</p>

                
            </div>
        </article>
    
        <article class="post article-entry">
            <div class="post-title">
                <a class="post-title-link text-underline" href="/Blackcat-loveBlog/2024/01/25/Spring-shiro-mybatis-lombok%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/">Spring+shiro+mybatis+lombok项目部署</a>
            </div>
            <p class="sub">Jan 25 2024</p>
            <div class="post-content">
                
                    <h1 id="项目介绍"><a href="#项目介绍" class="headerlink" title="项目介绍"></a>项目介绍</h1><p>本项目是maven项目</p>
<p>数据库mysql</p>
<p>前端html+jquery+md5+wangEditor+cancas 框架:bootstrap</p>
<p>后端spring+mybatis+shiro+lombok</p>
<p>笔记配套项目:</p>
<h1 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/finance?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=UTC&amp;zeroDateTimeBehavior=convertToNull</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">    <span class="attr">druid:</span></span><br><span class="line">      <span class="attr">initial-size:</span> <span class="number">5</span></span><br><span class="line">      <span class="attr">min-idle:</span> <span class="number">5</span></span><br><span class="line">      <span class="attr">max-active:</span> <span class="number">20</span></span><br><span class="line">      <span class="attr">max-wait:</span> <span class="number">60000</span></span><br><span class="line">      <span class="attr">time-between-eviction-runs-millis:</span> <span class="number">60000</span></span><br><span class="line">      <span class="attr">min-evictable-idle-time-millis:</span> <span class="number">300000</span></span><br><span class="line">      <span class="attr">validation-query:</span> <span class="string">SELECT</span> <span class="number">1</span> <span class="string">FROM</span> <span class="string">DUAL</span></span><br><span class="line">      <span class="attr">test-while-idle:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">test-on-borrow:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">test-on-return:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">pool-prepared-statements:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">max-pool-prepared-statement-per-connection-size:</span> <span class="number">20</span></span><br><span class="line">      <span class="attr">filters:</span> <span class="string">stat,wall</span></span><br><span class="line">      <span class="attr">use-global-data-source-stat:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">connect-properties:</span> <span class="string">druid.stat.mergeSql=true;druid.stat.slowSqlMillis=5000</span></span><br><span class="line">  <span class="attr">web:</span></span><br><span class="line">    <span class="attr">resources:</span></span><br><span class="line">      <span class="attr">static-locations:</span> <span class="string">classpath:/static/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mapper/*.xml</span></span><br><span class="line">  <span class="attr">type-aliases-package:</span> <span class="string">com.crazy.finance.bean</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span> <span class="comment">#将下换线转成驼峰式</span></span><br><span class="line"><span class="comment">#  configuration:</span></span><br><span class="line"><span class="comment">#   log-impl: org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8099</span></span><br></pre></td></tr></table></figure>

<h1 id="返回类JsonUtils"><a href="#返回类JsonUtils" class="headerlink" title="返回类JsonUtils"></a>返回类JsonUtils</h1><p><strong>在tuils里的JsonUtils类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.finance.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通用的返回类（封装json数据）</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JsonUtils</span> &#123;</span><br><span class="line">    <span class="comment">// 状态码 100-成功 200-失败</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> code;</span><br><span class="line">    <span class="comment">// 提示信息</span></span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 用户要返回给浏览器的数据</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Object&gt; extend = <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 处理成功</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> JsonUtils <span class="title function_">success</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">JsonUtils</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JsonUtils</span>();</span><br><span class="line">        result.setCode(<span class="number">100</span>);</span><br><span class="line">        result.setMsg(<span class="string">&quot;处理成功！&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 处理失败</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> JsonUtils <span class="title function_">fail</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">JsonUtils</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JsonUtils</span>();</span><br><span class="line">        result.setCode(<span class="number">200</span>);</span><br><span class="line">        result.setMsg(<span class="string">&quot;处理失败！&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> JsonUtils <span class="title function_">failPs</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">JsonUtils</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JsonUtils</span>();</span><br><span class="line">        result.setCode(<span class="number">300</span>);</span><br><span class="line">        result.setMsg(<span class="string">&quot;处理失败！&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> JsonUtils <span class="title function_">failEx</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">JsonUtils</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JsonUtils</span>();</span><br><span class="line">        result.setCode(<span class="number">400</span>);</span><br><span class="line">        result.setMsg(<span class="string">&quot;处理失败！&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> JsonUtils <span class="title function_">failNu</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">JsonUtils</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JsonUtils</span>();</span><br><span class="line">        result.setCode(<span class="number">500</span>);</span><br><span class="line">        result.setMsg(<span class="string">&quot;处理失败！&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 添加要返回的json数据</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> JsonUtils <span class="title function_">add</span><span class="params">(String key, Object value)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.getExtend().put(key, value);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h1><p>一些配置类</p>
<p>分别是ShiroConfig类</p>
<p>用来自动实现权限分配</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.finance.config.shiro;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> at.pollux.thymeleaf.shiro.dialect.ShiroDialect;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.spring.web.ShiroFilterFactoryBean;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.web.mgt.DefaultWebSecurityManager;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Qualifier;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedHashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShiroConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Bean</span></span><br><span class="line">   <span class="keyword">public</span> ShiroFilterFactoryBean <span class="title function_">getShiroFilterFactoryBean</span><span class="params">(<span class="meta">@Qualifier(&quot;securityManager&quot;)</span> DefaultWebSecurityManager securityManager)</span>&#123;</span><br><span class="line">       <span class="type">ShiroFilterFactoryBean</span> <span class="variable">bean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ShiroFilterFactoryBean</span>();</span><br><span class="line">       bean.setSecurityManager(securityManager);</span><br><span class="line">       <span class="comment">//一定要用LinkedHashMap。不然会导致规则混乱</span></span><br><span class="line">       Map&lt;String, String&gt; filterMap = <span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>();</span><br><span class="line">        <span class="comment">// log.info(&quot;ShiroFilterFactoryBean-------------------------------&quot;);</span></span><br><span class="line">       <span class="comment">//添加shiro的内置过滤器</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            anon: 无需认证就可访问</span></span><br><span class="line"><span class="comment">            authc：必须认证才能访问</span></span><br><span class="line"><span class="comment">            user：必须拥有记住我功能才能访问</span></span><br><span class="line"><span class="comment">            perms: 拥有对某个资源的权限才能访问</span></span><br><span class="line"><span class="comment">            role:拥有某个角色权限才能访问</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line"><span class="comment">//     添加授权</span></span><br><span class="line">      <span class="comment">// filterMap.put(&quot;/user/**&quot;, &quot;roles[user]&quot;);</span></span><br><span class="line">      <span class="comment">// filterMap.put(&quot;/admin/**&quot;, &quot;roles[admin]&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//     过滤请求</span></span><br><span class="line">       filterMap.put(<span class="string">&quot;/error/**&quot;</span>, <span class="string">&quot;anon&quot;</span>);</span><br><span class="line">       filterMap.put(<span class="string">&quot;/&quot;</span>, <span class="string">&quot;anon&quot;</span>);</span><br><span class="line">       filterMap.put(<span class="string">&quot;/index.html&quot;</span>, <span class="string">&quot;anon&quot;</span>);</span><br><span class="line">       filterMap.put(<span class="string">&quot;/toregister.html&quot;</span>, <span class="string">&quot;anon&quot;</span>);</span><br><span class="line">       filterMap.put(<span class="string">&quot;/login/**&quot;</span>, <span class="string">&quot;anon&quot;</span>);</span><br><span class="line">       filterMap.put(<span class="string">&quot;/asserts/**&quot;</span>, <span class="string">&quot;anon&quot;</span>);</span><br><span class="line">       filterMap.put(<span class="string">&quot;/bootstrap/**&quot;</span>, <span class="string">&quot;anon&quot;</span>);</span><br><span class="line">       filterMap.put(<span class="string">&quot;/images/**&quot;</span>, <span class="string">&quot;anon&quot;</span>);</span><br><span class="line">       filterMap.put(<span class="string">&quot;/lyear/**&quot;</span>, <span class="string">&quot;anon&quot;</span>);</span><br><span class="line">       filterMap.put(<span class="string">&quot;/js/**&quot;</span>, <span class="string">&quot;anon&quot;</span>);</span><br><span class="line"><span class="comment">//     对所有请求认证</span></span><br><span class="line"><span class="comment">//     主要这行代码必须放在所有权限设置的最后，不然会导致所有 url 都被拦截</span></span><br><span class="line">       filterMap.put(<span class="string">&quot;/**&quot;</span>, <span class="string">&quot;authc&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//      设置登出</span></span><br><span class="line"><span class="comment">//     filterMap.put(&quot;/logout&quot;, &quot;logout&quot;);</span></span><br><span class="line"></span><br><span class="line">       bean.setFilterChainDefinitionMap(filterMap);</span><br><span class="line"><span class="comment">//     设置登录请求（认证界面）</span></span><br><span class="line">       bean.setLoginUrl(<span class="string">&quot;/&quot;</span>);</span><br><span class="line"><span class="comment">//     设置未授权页面</span></span><br><span class="line"><span class="comment">//     bean.setUnauthorizedUrl(&quot;/noauth&quot;);</span></span><br><span class="line"></span><br><span class="line">       <span class="keyword">return</span> bean;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean(&quot;securityManager&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> DefaultWebSecurityManager <span class="title function_">getDefaultWebSecurityManager</span><span class="params">(<span class="meta">@Qualifier(&quot;userRealm&quot;)</span> UserRealm userRealm)</span> &#123;</span><br><span class="line">        <span class="type">DefaultWebSecurityManager</span> <span class="variable">securityManager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DefaultWebSecurityManager</span>();</span><br><span class="line"></span><br><span class="line">        securityManager.setRealm(userRealm);</span><br><span class="line">        <span class="keyword">return</span> securityManager;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean(&quot;userRealm&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> UserRealm <span class="title function_">getUserRealm</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">UserRealm</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//整合thymeleaf</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> ShiroDialect <span class="title function_">getShiroDialect</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ShiroDialect</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


                
            </div>
        </article>
    
        <article class="post article-entry">
            <div class="post-title">
                <a class="post-title-link text-underline" href="/Blackcat-loveBlog/2024/01/25/%E8%87%AA%E5%8A%A8%E5%8C%96python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">自动化python学习笔记</a>
            </div>
            <p class="sub">Jan 25 2024</p>
            <div class="post-content">
                
                    <p>自动化python</p>
<h1 id="通过id自动化填写信息"><a href="#通过id自动化填写信息" class="headerlink" title="通过id自动化填写信息"></a>通过id自动化填写信息</h1><p>导包</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br></pre></td></tr></table></figure>

<p>创建浏览器实例</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver= webdriver.Edge()</span><br></pre></td></tr></table></figure>

<p>寻找元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element = driver.find_element_by_id(<span class="string">&quot;user&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>填写元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.send_keys(<span class="string">&quot;admin&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>睡眠3秒</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sleep(<span class="string">&quot;3&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>退出浏览器</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.quit()</span><br></pre></td></tr></table></figure>

<h1 id="通过Class-or-name-自动化填写信息"><a href="#通过Class-or-name-自动化填写信息" class="headerlink" title="通过Class or name 自动化填写信息"></a>通过Class or name 自动化填写信息</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line">drive = webdriver.Edge()</span><br><span class="line">drive.get(<span class="string">&quot;E:\python\A.html&quot;</span>)</span><br><span class="line"></span><br><span class="line">element = drive.find_element_by_name(<span class="string">&quot;user&quot;</span>)</span><br><span class="line">element.send_keys(<span class="string">&quot;admin&quot;</span>)</span><br><span class="line"></span><br><span class="line">element = drive.find_element_by_name(<span class="string">&quot;pwd&quot;</span>)</span><br><span class="line">element.send_keys(<span class="string">&quot;123456&quot;</span>)</span><br><span class="line"></span><br><span class="line">element = drive.find_element_by_class_name(<span class="string">&quot;phone&quot;</span>)</span><br><span class="line">element.send_keys(<span class="string">&quot;15109635964&quot;</span>)</span><br><span class="line"></span><br><span class="line">element = drive.find_element_by_class_name(<span class="string">&quot;email&quot;</span>)</span><br><span class="line">element.send_keys(<span class="string">&quot;431690197@qq.com&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sleep(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">drive.quit()</span><br></pre></td></tr></table></figure>


                
            </div>
        </article>
    
        <article class="post article-entry">
            <div class="post-title">
                <a class="post-title-link text-underline" href="/Blackcat-loveBlog/2024/01/22/Shiro%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Shiro框架学习笔记</a>
            </div>
            <p class="sub">Jan 22 2024</p>
            <div class="post-content">
                
                    <p>Apache Shiro 是 Java 的一个安全框架。目前，使用 Apache Shiro 的人越来越多，因为它相当简单，对比 Spring Security，可能没有 Spring Security 做的功能强大，但是在实际工作时可能并不需要那么复杂的东西，所以使用小而简单的 Shiro 就足够了。对于它俩到底哪个好，这个不必纠结，能更简单的解决项目问题就好了。</p>

                
            </div>
        </article>
    
        <article class="post article-entry">
            <div class="post-title">
                <a class="post-title-link text-underline" href="/Blackcat-loveBlog/2024/01/14/Stylish%E6%8F%92%E4%BB%B6%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BD%91%E9%A1%B5CSS/">Stylish插件自定义网页CSS</a>
            </div>
            <p class="sub">Jan 14 2024</p>
            <div class="post-content">
                
                    <p>使用Stylish插件可以实现对网站客制化的需求，其原理是当加载网页的时候插件会自动检测网页的代码如果符合插入CSS的要求将自动插入编写好的CSS</p>
<p>比如我的目标网站是百度首页的按钮</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;百度一下&quot;</span> <span class="attr">id</span>=<span class="string">&quot;su&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn self-btn bg s_btn&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这是源代码，我需要定制化的是删除按钮，那么我需要修改style</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;百度一下&quot;</span> <span class="attr">id</span>=<span class="string">&quot;su&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn self-btn bg s_btn&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display:none&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>如果我每次都按F12去更改，那么未免也太麻烦，所以通过插件我直接使用唯一标识符去更改默认值即可</p>
<p>input的ID是su，所以我使用</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#su</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>:none</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样它会在访问对应网址的时候将写好的CSS添加到网页中，实现改变样式</p>
<p><img src="/Blackcat-loveBlog/png/styles01.png"></p>

                
            </div>
        </article>
    
        <article class="post article-entry">
            <div class="post-title">
                <a class="post-title-link text-underline" href="/Blackcat-loveBlog/2024/01/14/Go%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Go语言学习笔记</a>
            </div>
            <p class="sub">Jan 14 2024</p>
            <div class="post-content">
                
                    <p>参考资料:</p>
<p><a target="_blank" rel="noopener" href="https://www.topgoer.com/">https://www.topgoer.com/</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/talkgo/read">https://github.com/talkgo/read</a></p>
<h1 id="什么是Go语言"><a href="#什么是Go语言" class="headerlink" title="什么是Go语言"></a>什么是Go语言</h1><p>Go语言，又称Golang，是Google公司开发的一种静态强类型、编译型、并发型、并具有垃圾回收功能的编程语言。它是一种简洁而强大的编程语言，适用于各种类型的应用开发，包括Web开发、服务器端开发、移动应用开发等。</p>
<p>Go语言的优点包括：</p>
<ol>
<li>高效的编译速度：Go语言采用了独特的编译模型，能够在极短的时间内编译大量代码，这使得开发效率大大提高。</li>
<li>强大的并发处理能力：Go语言天生支持并发，它采用了协程（goroutine）的概念来实现并发执行，这使得在处理高并发请求时性能更佳。</li>
<li>简洁的语法：Go语言的语法简单明了，易于学习，使得编写代码更加快速且易于维护。</li>
<li>丰富的标准库：Go语言拥有强大的标准库，涵盖了各种常用的功能和库，使得开发者可以快速构建各种应用。</li>
<li>跨平台：Go语言编写的程序可以在不同的操作系统上运行，无需进行过多的修改。</li>
</ol>
<p>因此，使用Go语言可以带来更高的开发效率和更好的性能，使得开发人员能够更加高效地构建和部署应用程序。</p>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>安装Go和其他语言一样，基本上就是下载安装包，安装到规定好的位置，然后配置环境变量</p>
<p>如果想要详细了解安装步骤可以访问上方的学习文档，这里不再叙述</p>

                
            </div>
        </article>
    
        <article class="post article-entry">
            <div class="post-title">
                <a class="post-title-link text-underline" href="/Blackcat-loveBlog/2024/01/08/%E6%9C%AC%E6%89%80%E4%B8%83%E5%A4%A7%E4%B8%8D%E5%8F%AF%E6%80%9D%E8%AE%AE%E6%B8%B8%E7%8E%A9%E6%84%9F%E6%83%B3/">本所七大不可思议游玩感想</a>
            </div>
            <p class="sub">Jan 08 2024</p>
            <div class="post-content">
                
                    <p><img src="/Blackcat-loveBlog/png/mysun.png"></p>
<p>这是我第一次玩悬疑恐怖类的galgame</p>
<p>本所的故事在我看来并不复杂，但是里面的设定和剧情却很有趣，我一直对打破第四面墙的游戏很感兴趣，不同于修改游戏文件才能通关的《心跳文学俱乐部》，直面内心保持决心的群像《传说之下》，还有ARG类型的游戏，早些年的，孔明的陷阱，还有这几年因为虚拟Vtb出现而掀起的悬疑解密ARG企划，都具有此特性。</p>
<p>我们所扮演的人物，在一开始看来是兴家，虽然我们对游戏一无所知，但却要为游戏的进度去做出重大选择，这让我们如果想要通关，则需要不断存档和了解故事，以达到最终HappyEnd的结局。</p>
<p>这也是GalGame核心的玩法，本所则是利用了这个玩法本身，我们要扮演的角色不是游戏中的任何一个人，而是我们自己，而游戏在很多时候都会无意间的和屏幕后面的我们做出互动。</p>
<p>“为什么？明明不知道为什么，但是却就想要这样做”</p>
<p>身为玩家的我们已经熟知了剧情所以有合理的要求去改写结局，但在游戏中的人物却不知道，每次做出正确的选择然后HappyEnd是如此的不合理，这或许只有附生才能做到吧！</p>
<p>游戏的解密环节也很有趣，通过对游戏设置本身做出改变就可以影响游戏中人物的本身，比如在遇到鬼怪，如果不想被杀掉就需要听不见它的声音，游戏中的人物是不清楚这个机制的，但是我们可以在设置中关闭音量来影响。</p>
<p>本所这个游戏不需要存档，它的玩法本所则就是存档，不断回溯时空，最终抵达全员存活的结局。</p>
<p>根据我的印象梳理剧情:</p>
<p>在很多年前，曾经流传着七大不可思议，虽说是七大，但其实有九个，分别对应着不同的悲惨故事，故事中的人诅咒着一切，之后这种诅咒化作实物，获得的人可以获得被诅咒的能力，用来咒杀他人，虽然故事分崩离稀，但这是因为流传的原因，现在的人们只知道故事的一小部分。</p>
<p>一切的原因都是因为那个可以复活他人的秘术，为了秘术一家人死亡，留下的只有痛苦和悔恨。</p>
<p>我们所扮演的人本就一无所知，是阴阳师晴曼的灵魂，附生在了兴家身上，而我们接触到诅咒后记忆也不断被唤醒，随着灵魂不断穿越时空，了解故事，最终终止庆典，来让一切回复平静。</p>
<p>一说到Meta元素，不得不提到<strong>ever17</strong>，虽然是老游戏，前期很劝退，但只要不断了解故事剧情，之后的故事会非常精彩，对于<strong>第三视点</strong>的理解和互动，让人久久不能忘怀。</p>

                
            </div>
        </article>
    
        <article class="post article-entry">
            <div class="post-title">
                <a class="post-title-link text-underline" href="/Blackcat-loveBlog/2024/01/03/springcloud%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">springcloud学习笔记</a>
            </div>
            <p class="sub">Jan 03 2024</p>
            <div class="post-content">
                
                    <p><img src="/Blackcat-loveBlog/png/springcloud.png"></p>
<p>Spring Cloud是一个基于Spring Boot的微服务架构，它提供了一整套的开发工具包，包括服务治理、服务注册与发现、负载均衡、数据监控、REST API发布等，基本涵盖了分布式框架所需要的所有功能。</p>
<p>使用Spring Cloud的原因主要有以下几点：</p>
<ol>
<li>简化开发：Spring Cloud利用Spring Boot的开发便利性，简化了分布式系统基础设施的开发。它提供了一系列的工具，如配置管理、服务发现、断路器、路由、微代理、事件总线等，这些都可以用Spring Boot的开发风格做到一键启动和部署。</li>
<li>易于维护：Spring Cloud的各个组件都是高度抽象和封装的，这使得它在处理复杂系统时能够提供更清晰、更易于维护的代码结构。</li>
<li>快速部署：由于Spring Cloud是基于微服务架构的，因此每个服务都可以独立地进行开发和部署，这大大提高了开发效率和系统的可扩展性。</li>
<li>高度可扩展：由于微服务架构的特点，Spring Cloud可以轻松地扩展服务以处理更多的流量或增加更多的功能，而不会影响整个系统的稳定性。</li>
<li>安全性高：Spring Cloud提供了强大的安全保障，包括服务认证、访问控制和数据加密等功能，可以有效地保护系统的安全性和隐私性。</li>
</ol>
<h1 id="部署Spring-Cloud项目"><a href="#部署Spring-Cloud项目" class="headerlink" title="部署Spring Cloud项目"></a>部署Spring Cloud项目</h1><h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><p>首先创建一个Spring Cloud项目，本次部署环境为</p>
<p>IDEA.2023</p>
<p>JAVA 1.8</p>
<p>java 21 (这个版本是用来创建 创建完成后降级)</p>
<p>apache-maven-3.8.1-bin</p>
<p>有关Macen的部署和使用不再赘述</p>
<h2 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h2><p>如果是使用的是官方源创建<a target="_blank" rel="noopener" href="https://start.spring.io/">https://start.spring.io</a></p>
<p>可能会提示JDK版本太低，这时候你可以选择使用阿里云源创建，里面有低版本的配置</p>
<p>阿里云源:<a target="_blank" rel="noopener" href="https://start.aliyun.com/">https://start.aliyun.com/</a></p>
<p>注意:使用低版本部署可能会出现pom.xml里没有parent</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这种情况建议使用高版本创建然后降级使用</p>
<p>创建完成后进入配置依赖勾选<strong>lombok</strong>，然后确保你的IDEA里下载了<strong>lombok插件</strong>一般<strong>默认自带</strong></p>
<p>创建完成后正式进入部署环节</p>
<p>tip:可以删除不需要的文件夹来让项目整体更容易阅读，推荐<strong>删除父模块的src文件夹</strong></p>
<p><img src="/Blackcat-loveBlog/png/cloud1.png"></p>
<p>一个SpringCloud项目可能具有多个模块，右键你的父模块可以同时创建多个子模块</p>
<p>比如我们创建一个eureka模块</p>
<p>同样的创建操作，这次不需要勾选<strong>lombok</strong></p>
<p>创建完成后再父模块的pom里需要进行修改</p>
<p>首先就是将你刚刚创建的子模块链接到父模块</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    模块导入--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>spring-eureka<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="使用Cloud微服务框架"><a href="#使用Cloud微服务框架" class="headerlink" title="使用Cloud微服务框架"></a>使用Cloud微服务框架</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring-cloud.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>通过在父pom里添加dependencyManagement声明依赖的管理策略来实现搭建Cloud</p>
<p><code>&lt;dependencyManagement&gt;</code> 是 Maven 的一个配置元素，用于声明项目依赖的管理策略。这个元素通常出现在 Maven 项目的 <code>pom.xml</code> 文件的 <code>&lt;dependencies&gt;</code> 元素之前。</p>
<p>通过 <code>&lt;dependencyManagement&gt;</code>，您可以定义一组通用的依赖项，这些依赖项将应用于项目中的所有模块（如果这些模块没有定义自己的依赖项）。这使得您可以在多个模块之间共享相同的依赖版本，从而确保整个项目的一致性。</p>
<p>然后你需要修改一些配置让项目能准确识别</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">父模块的pom</span><br><span class="line"><span class="comment">&lt;!--    父亲--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    自己--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springcloud<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>springcloud<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>springcloud<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    这里需要加pom--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        使用cloud需要导入相关--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">spring-cloud.version</span>&gt;</span>Hoxton.SR1<span class="tag">&lt;/<span class="name">spring-cloud.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>一下是这些代码的说明,方便理解</p>
<ol>
<li><strong>父依赖管理</strong> (<code>&lt;parent&gt;</code>)：<ul>
<li><code>&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</code>: 指定父依赖的组ID，这里是Spring Boot的组ID。</li>
<li><code>&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;</code>: 指定父依赖的构件ID，这是一个Spring Boot的父POM文件，它包含了所有Spring Boot项目的默认设置。</li>
<li><code>&lt;version&gt;2.2.0.RELEASE&lt;/version&gt;</code>: 指定父依赖的版本号。</li>
<li><code>&lt;relativePath/&gt;</code>: 父POM文件的位置。这里为空意味着Maven将尝试在仓库中查找该父POM文件。</li>
</ul>
</li>
<li><strong>项目信息</strong> (<code>&lt;groupId&gt;</code>, <code>&lt;artifactId&gt;</code>, <code>&lt;version&gt;</code>, <code>&lt;name&gt;</code>, <code>&lt;description&gt;</code>)：<ul>
<li><code>&lt;groupId&gt;com.example&lt;/groupId&gt;</code>: 指定项目所属的组织或公司的标识符。</li>
<li><code>&lt;artifactId&gt;springcloud&lt;/artifactId&gt;</code>: 指定项目的名称。</li>
<li><code>&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;</code>: 指定项目的版本号，这里的“SNAPSHOT”表示这是一个开发快照版本。</li>
<li><code>&lt;name&gt;springcloud&lt;/name&gt;</code>: 项目的名称。</li>
<li><code>&lt;description&gt;springcloud&lt;/description&gt;</code>: 对项目的简短描述。</li>
</ul>
</li>
<li><strong>项目包装类型</strong> (<code>&lt;packaging&gt;</code>)：<ul>
<li>这里指定了项目的包装类型为<code>pom</code>，意味着这是一个POM项目，而不是一个JAR或WAR项目。POM项目主要用于组织和管理其他项目。</li>
</ul>
</li>
<li><strong>项目属性</strong> (<code>&lt;properties&gt;</code>)：<ul>
<li><code>&lt;java.version&gt;1.8&lt;/java.version&gt;</code>: 指定项目使用的Java版本，这里是Java 1.8（也称为Java 8）。</li>
<li><code>&lt;spring-cloud.version&gt;Hoxton.SR1&lt;/spring-cloud.version&gt;</code>: 指定Spring Cloud的版本号，这里使用的是Hoxton.SR1版本。</li>
</ul>
</li>
</ol>
<p>这段代码主要定义了一个Spring Boot项目及其相关的依赖关系和项目信息。通过这种方式，Maven可以知道如何构建、测试和打包这个项目，以及如何解析和管理项目的依赖关系。对于新手来说，理解这些内容将有助于更好地理解如何使用Maven来管理Java项目。</p>
<p>做完这一步，你已经成功配置了Cloud的项目，现在我们来测试使用一下子模块</p>
<p>之前我们已经创建了一个子模块叫做<strong>eureka</strong></p>
<p>通过在子模块的pom.xml里修改和增加一些说明，来完善项目</p>
<h2 id="配置子模块eureka"><a href="#配置子模块eureka" class="headerlink" title="配置子模块eureka"></a>配置子模块eureka</h2><p>修改子模块pom.xml的parent</p>
<p>将parent里的内容修改为父模块的自己,只需要添加前三个即可</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springcloud<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这样链接父模块的pom后可以实现依赖公用，只需要在父模块的Pom导入依赖，全项目都可以使用共同依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">子模块的pom</span><br><span class="line"><span class="comment">&lt;!--连接父元素--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springcloud<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--自己的pom--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-eureka<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>spring-eureka<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>spring-eureka<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    java版本--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>添加子模块依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--        注册中心 eureka 服务依赖--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>使用注册中心可以方便管理我们的项目配置完成后可以使用端口浏览</p>
<p>添加完成后在JAVA文件里添加相关配置信息即可</p>
<p>使用yml配置</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line"><span class="comment">#访问端口号</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">eureka-server</span></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://localhost:8081/eureka</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这段代码是一个YAML格式的配置文件，通常用于配置Spring Boot应用程序的参数。该文件配置了一个Eureka服务注册中心的服务器设置。下面是对每一部分的解释：</p>
<ol>
<li><strong>server</strong>:<ul>
<li>port: 8081<ul>
<li>这一行指定了服务器监听的端口号为8081。</li>
</ul>
</li>
</ul>
</li>
<li><strong>spring</strong>:<ul>
<li>application<ul>
<li>name: eureka-server<ul>
<li>这一部分定义了Spring Boot应用程序的名称为”eureka-server”。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>eureka</strong>:<ul>
<li>client<ul>
<li>service-url<ul>
<li>defaultZone: <a target="_blank" rel="noopener" href="http://localhost:8081/eureka">http://localhost:8081/eureka</a><ul>
<li>这一部分定义了Eureka客户端的服务URL。在这里，服务将在本地机器的8081端口上注册，并使用基础URL “&#x2F;eureka”。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>为了方便新手理解：</p>
<ul>
<li><strong>YAML</strong>: 这是一个常见的配置文件格式，用于存储配置数据。它使用缩进和冒号来区分键和值。</li>
<li><strong>Spring Boot</strong>: 是一个用于创建独立、生产级的基于Spring的应用程序的框架。它简化了Spring应用程序的初始化和开发过程。</li>
<li><strong>Eureka</strong>: 是Netflix开发的服务发现组件，用于定位运行在AWS云或其他云平台上的中间层服务，从而实现中间层服务的故障转移和负载均衡。</li>
</ul>
<p>总的来说，这个配置文件是用来设置一个Eureka服务注册中心的服务器，它将在本地的8081端口上运行，并使用默认的服务URL进行服务注册。</p>
<h2 id="试运行"><a href="#试运行" class="headerlink" title="试运行"></a>试运行</h2><p>配置完成后再java里的SpringEurekaApplication里启动项目来访问服务</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#SpringEurekaApplication.java</span><br><span class="line"><span class="keyword">package</span> com.example.springeureka;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableEurekaServer</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringEurekaApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(SpringEurekaApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里需要添加**@EnableEurekaServer**后才能正常访问</p>
<h2 id="配置子模块consumer"><a href="#配置子模块consumer" class="headerlink" title="配置子模块consumer"></a>配置子模块consumer</h2><p>创建子模块consumer和配置上一个子模块过程一样，修改parent 修改对应版本JDK，增加相关依赖</p>
<p><strong>注意</strong>：如果出现报错问题，请随时检查你的maven配置问题，绝大多数代码正确报错都是因为Maven下载依赖失败</p>
<h2 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8082</span></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://localhost:8081/eureka</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">spring-consumer</span></span><br></pre></td></tr></table></figure>

<p>和之前不一样的是，这次的端口号要发生改变，同样将这个模块注册到注册中心eureka,然后给新模块设置一个名字</p>
<p>完成后启动注册中心模块，再启动consumer模块，可以看到新DS Replicas的出现，由于我们注册中心本身也会被注册，如果不想它被注册，可以增加两行代码也设置</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">注册中心配置文件</span> <span class="string">eureka</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">    <span class="attr">client:</span></span><br><span class="line">        <span class="attr">service-url:</span></span><br><span class="line">            <span class="attr">defaultZone:</span> <span class="string">http://localhost:8081/eureka</span></span><br><span class="line">        <span class="attr">fetch-registry:</span> <span class="literal">false</span></span><br><span class="line">        <span class="attr">register-with-eureka:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h2 id="配值子模块provider"><a href="#配值子模块provider" class="headerlink" title="配值子模块provider"></a>配值子模块provider</h2><h3 id="模块启动失败问题解决办法"><a href="#模块启动失败问题解决办法" class="headerlink" title="模块启动失败问题解决办法"></a>模块启动失败问题解决办法</h3><p>如果遇到模块启动失败，依赖添加后还是无法正常启动，请打开项目管理-模块-找到启动失败的模块-修改模块SDK</p>
<p>即可解决依赖版本JDK冲突</p>
<p><img src="/Blackcat-loveBlog/png/springcloud2.png"></p>
<h2 id="熔断器hystrix"><a href="#熔断器hystrix" class="headerlink" title="熔断器hystrix"></a>熔断器hystrix</h2><p>使用熔断器可以在报错时截取并且输出规定好的内容方便让服务者知道问题错误出在哪里</p>
<p>依赖（高版本会自带无需添加）:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--        容错器hystrix--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-hystrix<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>配置:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">feign:</span></span><br><span class="line">  <span class="attr">hystrix:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>创建的熔断器类:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springconsumer;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserFeignHystrix</span> <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">login</span><span class="params">(String username, String password)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;服务器抛锚&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Service类需要修改链接熔断器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springconsumer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.openfeign.FeignClient;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestParam;</span><br><span class="line"></span><br><span class="line"><span class="meta">@FeignClient(value = &quot;spring-provider&quot;,fallback = UserFeignHystrix.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">login</span><span class="params">(<span class="meta">@RequestParam(&quot;username&quot;)</span> String username,<span class="meta">@RequestParam(&quot;password&quot;)</span>String password)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>主要在于这一句</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FeignClient(value = &quot;spring-provider&quot;,fallback = UserFeignHystrix.class)</span></span><br></pre></td></tr></table></figure>

<p>链接的刚刚创建的类，如果方法出现问题，就会打印<strong>log</strong></p>
<p>这样当你访问此类的时候就会被熔断</p>
<h3 id="负载均衡器分担方式"><a href="#负载均衡器分担方式" class="headerlink" title="负载均衡器分担方式"></a>负载均衡器分担方式</h3><p>通过设置集群分担方式可以减轻负载，给多个集群平衡分担请求</p>
<p>通过一些设置可以实现不同的分担方式，默认是轮播分担</p>
<p>在启动类添加此方法修改分担方式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line">   <span class="keyword">public</span> RestTemplate <span class="title function_">restTemplate</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">RestTemplate</span>();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Bean</span></span><br><span class="line">   <span class="keyword">public</span> IRule <span class="title function_">randomRule</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">RandomRule</span>();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>完整类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springconsumer;</span><br><span class="line"><span class="keyword">import</span> com.netflix.loadbalancer.IRule;</span><br><span class="line"><span class="keyword">import</span> com.netflix.loadbalancer.RandomRule;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.openfeign.EnableFeignClients;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.client.RestTemplate;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableFeignClients</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConsumerApplication</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RestTemplate <span class="title function_">restTemplate</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">RestTemplate</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> IRule <span class="title function_">randomRule</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">RandomRule</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(SpringConsumerApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>官方介绍:</p>
<p>要通过设置集群分担方式来减轻负载，可以使用负载均衡器来实现。负载均衡器是一种能够平衡多个服务器或集群之间负载的设备，它可以根据指定的策略将请求分发到不同的服务器，以确保各个服务器或集群负载均衡。负载均衡器可以通过多种算法进行请求分担，例如轮询、最少连接、IP哈希等。</p>
<p>对于新手来说，可以通过以下步骤来理解和使用负载均衡器：</p>
<ol>
<li>了解负载均衡器的基本原理：新手可以先了解负载均衡器的工作原理，包括其作用、不同的负载均衡算法以及常见的应用场景。</li>
<li>选择适合的负载均衡器：根据自己的需求和环境选择合适的负载均衡器，比如Nginx、HAProxy等，并学习其基本配置和使用方法。</li>
<li>配置和部署负载均衡器：按照文档或教程的指导，配置和部署选定的负载均衡器，包括定义后端服务器、设置负载均衡策略等。</li>
<li>测试和监控：在配置完成后，进行测试以确保负载均衡器能够正常工作，并设置监控系统来实时监测负载均衡器的性能和状态。</li>
</ol>
<p>通过以上步骤，新手可以逐步理解和应用负载均衡器来实现集群分担方式，从而减轻服务器负载并提高系统的可靠性和性能。</p>
<h2 id="子模块gateway网关"><a href="#子模块gateway网关" class="headerlink" title="子模块gateway网关"></a>子模块gateway网关</h2><p>创建子模块，注意下一步后不要勾选任何依赖尤其是SpringWeb。</p>
<p>添加依赖:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-gateway<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>配置文件yml:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://localhost:8081/eureka</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">spring-gateway</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">gateway:</span></span><br><span class="line">      <span class="attr">routes:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">id:</span> <span class="string">cloud-user-consumer</span>    <span class="comment">#随便起名字</span></span><br><span class="line">          <span class="attr">uri:</span> <span class="string">spring-consumer</span> <span class="comment">#服务名称</span></span><br><span class="line">          <span class="attr">predicates:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Path=/consumer/**</span>         <span class="comment">#访问路径</span></span><br><span class="line"><span class="comment">#         filters:</span></span><br><span class="line"><span class="comment">#           - StripPrefix=1            #过滤前缀</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>过滤前缀后就无法通过consumer访问其下的方法</p>
<p>首先配置一个未被使用的端口号</p>
<p>使用eureka注册</p>
<p>使用spring-name设置名称</p>
<p>使用cloud设置路由</p>
<h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>使用网关的路由转发后，可以通过设置好的路径直接访问到对应端口的方法</p>
<p>转发前:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localhost:8082/toLogin?username=admin&amp;password=admin</span><br></pre></td></tr></table></figure>

<p>转发后:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/consumer/toLogin?username=admin&amp;password=admin</span><br></pre></td></tr></table></figure>

<p>因为设置了路由，所以无需再修改端口号，只需要访问网关的端口然后网关再自动访问其他端口就可以</p>

                
            </div>
        </article>
    
        <article class="post article-entry">
            <div class="post-title">
                <a class="post-title-link text-underline" href="/Blackcat-loveBlog/2023/12/31/2023%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/">2023年终总结</a>
            </div>
            <p class="sub">Dec 31 2023</p>
            <div class="post-content">
                
                    <p>再有几个小时就是2024年了，刚看完其他UP主做的年终总结，有了自己也要写一个的想法，便有了这篇文章。</p>
<p>对我而言，我很在乎自己对于时间投入的产出比，在这个年纪，这是我们唯一的资产，所以最终总结为，这一年收获了什么，有什么遗憾，和下一年的目标。</p>
<p>关于收获，这一年学会了更多有关编程的知识，对网络了解也提高了不少。</p>
<p>看书方面，由于还是不够自律，看的零零散散，今年看完了瑞达利欧写的《原则》，让我明白，在做人做事上，原则的重要性会影响我们的一生，我们应该为自己设立三个原则，生活原则，工作原则，自身原则，并且不断改善原则，让原则顺其自然帮助你成长，一个好的习惯可以受益终生就是这个说法。</p>
<p>另外在2022年看完了《小狗钱钱》后，就想去看后续的故事，所以今年看了《富爸爸和穷爸爸》,这是一个系列的书籍，一共有五本，目前只看了一本，教你如何理财，正确看待金钱，非常有价值的一本书，虽然发行的时间距离今天已经有很久，但里面的一些预测放在现在依然精准，教的一些理财方法也很有用，比如我们每个人都应该有一个自己的资产负债表，明确的列出我们所拥有的资产和负债，现金流，帮助我们看清自身经济的真实走向。</p>
<p>剩下的书籍都是在手机上下载的电子书，阅读起来虽然没有实体书舒服，但不用花钱，就已经知足了。</p>
<p>唯一看完的一本是《不上班也有钱》，这是第一次有一种被文字拉进去的感觉，看的时候几乎目不暇接，让人有不断翻下去的欲望，以往都是你需要思考，然后停留一会才继续看，但这本书却让我阅读的非常流畅，中间也有一些停顿的点，但一点也不晦涩。它讲述的内容和我目前正在迷茫的点也很吻合，在我目前看来，这几乎是最简单的理财方法了，并且可行，但我认为大部分人都难以做到。</p>
<p>剩下的书籍过于难啃，都是一些技术类，很多看了一半后不想再看，亦或者看一点都花了大量的时间思考和吸收然后就搁置了。</p>
<p>比如有一本书叫做《朋友圈的尖子生》，前面的内容非常有趣，但看了一半后后面突然变得乏味无比，可能是和自身境界突然有了很大偏差，环境不同，没有想看下去的欲望了。</p>
<p>亦或者还有一本叫做《煤老板自述三十年》上面记录到看了60%多后，后面的也不想看了，原因在于我认为有一些和前面的内容高度重合，虽然故事本身不一样，但逻辑剧情起伏没有多大变化，这不怪书，而是世界运行逻辑就是如此，一个成功人，必然经历起伏的人生，但依然推荐这本书，因为真的挺好看的，之前和我爸聊天的时候我也总是会讲一些书中的内容，这就是那个年代很有代表性的一群人。</p>
<p>有时候想要对自己看的书做一些笔记，方便之后再次阅读有新的感悟，所以我找到了一本书叫做《边写边思考的大脑整理笔记法》，其实它说的还挺对的，但看完后现在已经忘的差不多了。</p>
<p>有时候在视频上刷到了罗翔老师讲刑法，想到了老师自己也有写一本书，所以就下载下来看了一点，叫做《圆圈正义》，不得不说，让我很受益，如果有时间我会继续看完的。剩下的书过于零散就不讲了。</p>
<p>最后要将的一本书就是《马克思资本论》这是一本对我来说很重要的书，里面的知识过于干，对我而言很难吸收，但就算如此我也依然有决心想要看完这本书，这应该是我头一次思考很久的书，基本上每读一章就要思考很久，所以新的一年继续坚持读。</p>
<p>因为学校电脑卡顿，购置了新的笔记本，很开心。</p>
<p>计划写一本书，目前只完成了20%有六万字左右，希望有一天写完后能打印出来。</p>
<p>遗憾方面，自己浪费了很多时间，不够自律，人机关系处理的也不够好，明明有很多计划，但是每当施行的时候总是因为懒惰半途而废。</p>
<p>新的一年的目标，嗯….</p>
<p>首先这一年我希望不要让计划停留在构思阶段，而是有所进展，并且每个月都罗列出计划表，鼓励和鞭策自己完成计划，或者出现纰漏后修改再继续执行。</p>
<p>对之前所学的内容进行复习，可以有所新的领悟。</p>

                
            </div>
        </article>
    
</div>
<div class="side-bar">


    <div class="avator" id="avator">
    <div class="title">
        <a href="#" class="text-underline">About Me</a>
    </div>
        <img src="/Blackcat-loveBlog/jpg/user.jpg" class="ava-img">
        <h3 class="author">Bocchi the rock</h3>
        <div class="icon-list">
        <a target="_blank" rel="noopener" href="https://weibo.com/u/6582202420"><i class="iconfont icon-weibo icon-item"></i></a>
        <a href="blackcat_19216811@163.com"><i class="iconfont icon-email icon-item"></i></a>
        <a target="_blank" rel="noopener" href="https://github.com/Blackcat-love"><i class="iconfont icon-github icon-item"></i></a>
        <a href=""><i class="iconfont icon-linkedin icon-item"></i></a>
        </div>
    <div class="tags">
    <h3 class="tags-title">Tags</h3>
    <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/Blackcat-loveBlog/tags/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/" rel="tag">年终总结</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/Blackcat-loveBlog/tags/%E6%95%99%E7%A8%8B/" rel="tag">教程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/Blackcat-loveBlog/tags/Dos/" rel="tag">Dos</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/Blackcat-loveBlog/tags/GdScript/" rel="tag">GdScript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/Blackcat-loveBlog/tags/Git/" rel="tag">Git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/Blackcat-loveBlog/tags/Go/" rel="tag">Go</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/Blackcat-loveBlog/tags/JS/" rel="tag">JS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/Blackcat-loveBlog/tags/JQuery/" rel="tag">JQuery</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/Blackcat-loveBlog/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/Blackcat-loveBlog/tags/Redis/" rel="tag">Redis</a><span class="tag-list-count">1</span></li></ul>
</div>
    </div>
</div>

</section>

    <nav class="page-nav">
    
        <a class="prev" href="/Blackcat-loveBlog/page/2/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text">Prev</span>
        </a>
    
    
        <a class="next" href="/Blackcat-loveBlog/page/4/">
            <span class="next-text">Next</span>
            <i class="iconfont icon-right"></i>
        </a>
    
    </nav>



            </main>
            <div class="copyright">
  <div class="text">Powered By
    <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> | Theme <a target="_blank" rel="noopener" href="https://github.com/zjx137/hexo-theme-Tsu">Tsu</a> &copy 2019
  </div>
</div>

        </div>
    <div class="back-to-top" id="back-to-top">
            <i class="iconfont icon-up"></i>
    </div>
        
    <!-- hexo injector body_end start --><script data-pjax src="https://registry.npmmirror.com/oh-my-live2d/latest/files"></script><script>const oml2d = OML2D.loadOml2d({libraryUrls:{"complete":"https://registry.npmmirror.com/oh-my-live2d/latest/files/lib/complete.js","cubism2":"https://registry.npmmirror.com/oh-my-live2d/latest/files/lib/cubism2.js","cubism5":"https://registry.npmmirror.com/oh-my-live2d/latest/files/lib/cubism5.js"},mobileDisplay:true,models:[{"path":"/Blackcat-loveBlog/live2d/波奇酱2.0/波奇酱2.0.model3.json","mobilePosition":[0,0],"mobileScale":0.1,"mobileStageStyle":{"width":180,"height":250},"motionPreloadStrategy":"IDLE","position":[-100,-100],"scale":0.15,"stageStyle":{"width":250,"height":250}},{"path":"/Blackcat-loveBlog/live2d/liang_vts/liang.model3.json","scale":0.12,"position":[0,60],"stageStyle":{"width":250},"mobileScale":0.1,"mobilePosition":[0,0],"mobileStageStyle":{"width":180}}],parentElement:document.body,primaryColor:"var(--btn-bg)",sayHello:false,tips:{style: {"width":230,"height":120,"left":"calc(50% - 20px)","top":"-100px"},mobileStyle: {"width":180,"height":80,"left":"calc(50% - 30px)","top":"-100px"},idleTips:{interval:15000,message:function(){
  return axios.get('https://v1.hitokoto.cn?c=i')
    .then(function (response) {
      return response.data.hitokoto ;
    })
    .catch(function (error) {
      console.error(error);
    });
}
}}});</script><!-- hexo injector body_end end --></body>
    
<script src="/Blackcat-loveBlog/js/jquery-3.3.1.min.js"></script>

    
<script src="/Blackcat-loveBlog/js/back-to-top.js"></script>

    
<script src="/Blackcat-loveBlog/js/scroll.js"></script>

    <!-- MathJax配置，可通过单美元符号书写行内公式等 -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": { 
        preferredFont: "TeX", 
        availableFonts: ["STIX","TeX"], 
        linebreaks: { automatic:true }, 
        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) 
    },
    tex2jax: { 
        inlineMath: [ ["$", "$"], ["\\(","\\)"] ], 
        processEscapes: true, 
        ignoreClass: "tex2jax_ignore|dno",
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {  
        equationNumbers: { autoNumber: "AMS" },
        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } }, 
        Macros: { href: "{}" } 
    },
    messageStyle: "none"
    }); 
</script>
<!-- 给MathJax元素添加has-jax class -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<!-- 通过连接CDN加载MathJax的js代码 -->
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

</html>
